(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{58:function(e,t,a){e.exports=a(92)},63:function(e,t,a){},64:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),s=a(25),c=a.n(s),l=(a(63),a(64),a(11)),o=a(9),i=a(34),u=a(14),m=a.n(u),p=function(e){e?m.a.defaults.headers.common.Authorization=e:delete m.a.defaults.headers.common.Authorization},d=function(e){return{type:"SET_CURRENT_USER",payload:e}},f=function(){return function(e){localStorage.removeItem("jwtToken"),p(!1),e(d({}))}},h=a(10),b=a(23),g=a(55),v=a(2),E=a(86),O={isAuthenticated:!1,user:{},loading:!1},y={},j=a(21),N={tasks:[],tasksLoading:!1},k={groups:[]},w=Object(b.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(v.a)(Object(v.a)({},e),{},{isAuthenticated:!E(t.payload),user:t.payload,loading:!1});case"USER_LOADING":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_TASK":return Object(v.a)(Object(v.a)({},e),{},{tasks:[].concat(Object(j.a)(e.tasks),[t.payload])});case"GET_TASKS":return Object(v.a)(Object(v.a)({},e),{},{tasks:t.payload,tasksLoading:!1});case"UPDATE_TASK":var a=e.tasks.findIndex((function(e){return e._id===t.payload._id})),r=JSON.parse(JSON.stringify(e.tasks));return r.splice(a,1,t.payload),Object(v.a)(Object(v.a)({},e),{},{tasks:r});case"DELETE_TASK":return Object(v.a)(Object(v.a)({},e),{},{tasks:e.tasks.filter((function(e){return e._id!==t.payload}))});case"TASKS_LOADING":return Object(v.a)(Object(v.a)({},e),{},{tasksLoading:!0});default:return e}},groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_GROUPS_BY_USER_ID":return Object(v.a)(Object(v.a)({},e),{},{groups:t.payload});default:return e}}}),x=[g.a],S=Object(b.e)(w,{},Object(b.d)(b.a.apply(void 0,x))),C=a(4),D=a(5),T=a(6),I=a(8),_=a(7),A=a(18),R=a(20),U=function(e){return{auth:e.auth,errors:e.errors}},z=function(e){Object(I.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(D.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:"",errors:{}},e.onChange=function(t){e.setState(Object(C.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a)},e}return Object(T.a)(a,[{key:"render",value:function(){var e=this.props.errors;return n.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},n.a.createElement("div",{style:{height:"20rem"},className:"flex flex-col justify-around items-center"},n.a.createElement("div",{className:"flex flex-col items-center w-full"},n.a.createElement("div",{className:"w-2/3"},n.a.createElement("label",{className:"text-sm text-gray-600"},"Email"),n.a.createElement("span",{className:"text-red-500 ml-2"},e.email,e.emailnotfound)),n.a.createElement("div",{className:"relative w-2/3"},n.a.createElement("div",{className:"absolute top-0 left-0 w-6 flex items-center justify-center h-full"},n.a.createElement(A.f,{size:20})),n.a.createElement("input",{className:"pl-6 border-b w-full text-xl outline-none border-blue-500",onChange:this.onChange,value:this.state.email,id:"email",type:"email"}))),n.a.createElement("div",{className:"flex flex-col items-center w-full"},n.a.createElement("div",{className:"w-2/3"},n.a.createElement("label",{className:"text-sm text-gray-600"},"Password")),n.a.createElement("div",{className:"relative w-2/3"},n.a.createElement("div",{className:"absolute top-0 left-0 w-6 flex items-center justify-center h-full"},n.a.createElement(A.e,{size:20})),n.a.createElement("input",{className:"pl-6 border-b w-full text-xl outline-none border-blue-500",onChange:this.onChange,value:this.state.password,id:"password",type:"password"}))),n.a.createElement("button",{type:"submit",className:"text-xl bg-transparent hover:bg-blue-500 border border-blue-500 text-blue-500 rounded-lg hover:text-white hover:border-transparent text-center w-2/3"},"Login")))}}]),a}(r.Component),M=Object(h.b)(U,{loginUser:function(e){return function(t){m.a.post("/api/users/login",e).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),p(a);var r=Object(i.a)(a);t(d(r))})).catch((function(e){return t({type:"GET_ERRORS",payload:e.response.data})}))}}})(z),P=function(e){Object(I.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(D.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={name:"",email:"",password:"",password2:""},e.onChange=function(t){e.setState(Object(C.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2};e.props.registerUser(a,e.props.history)},e}return Object(T.a)(a,[{key:"render",value:function(){var e=this.props.errors;return n.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},n.a.createElement("div",{style:{height:"20rem"},className:"flex flex-col justify-around items-center"},n.a.createElement("div",{className:"flex flex-col items-center w-full"},n.a.createElement("div",{className:"w-2/3"},n.a.createElement("label",{className:"text-sm text-gray-600"},"Name"),n.a.createElement("span",{className:"text-red-500 ml-2"},e.name)),n.a.createElement("div",{className:"relative w-2/3"},n.a.createElement("div",{className:"absolute top-0 left-0 w-6 flex items-center justify-center h-full"},n.a.createElement(A.g,{size:20})),n.a.createElement("input",{className:"pl-6 border-b w-full text-xl outline-none border-blue-500",onChange:this.onChange,value:this.state.name,id:"name",type:"name"}))),n.a.createElement("div",{className:"flex flex-col items-center w-full"},n.a.createElement("div",{className:"w-2/3"},n.a.createElement("label",{className:"text-sm text-gray-600"},"Email"),n.a.createElement("span",{className:"text-red-500 ml-2"},e.email,e.emailnotfound)),n.a.createElement("div",{className:"relative w-2/3"},n.a.createElement("div",{className:"absolute top-0 left-0 w-6 flex items-center justify-center h-full"},n.a.createElement(A.f,{size:20})),n.a.createElement("input",{className:"pl-6 border-b w-full text-xl outline-none border-blue-500",onChange:this.onChange,value:this.state.email,id:"email",type:"email"}))),n.a.createElement("div",{className:"flex flex-col items-center w-full"},n.a.createElement("div",{className:"w-2/3"},n.a.createElement("label",{className:"text-sm text-gray-600"},"Password"),n.a.createElement("span",{className:"text-red-500 ml-2"},e.password)),n.a.createElement("div",{className:"relative w-2/3"},n.a.createElement("div",{className:"absolute top-0 left-0 w-6 flex items-center justify-center h-full"},n.a.createElement(A.e,{size:20})),n.a.createElement("input",{className:"pl-6 border-b w-full text-xl outline-none border-blue-500",onChange:this.onChange,value:this.state.password,id:"password",type:"password"}))),n.a.createElement("div",{className:"flex flex-col items-center w-full"},n.a.createElement("div",{className:"w-2/3"},n.a.createElement("label",{className:"text-sm text-gray-600"},"Confirm Password"),n.a.createElement("span",{className:"text-red-500 ml-2"},e.password2)),n.a.createElement("div",{className:"relative w-2/3"},n.a.createElement("div",{className:"absolute top-0 left-0 w-6 flex items-center justify-center h-full"},n.a.createElement(A.c,{size:20})),n.a.createElement("input",{className:"pl-6 border-b w-full text-xl outline-none border-blue-500",onChange:this.onChange,value:this.state.password2,id:"password2",type:"password"}))),n.a.createElement("button",{type:"submit",className:"mt-2 text-xl bg-transparent hover:bg-blue-500 border border-blue-500 text-blue-500 rounded-lg hover:text-white hover:border-transparent text-center w-2/3"},"Register")))}}]),a}(r.Component),F=Object(h.b)(U,{registerUser:function(e,t){return function(a){m.a.post("/api/users/register",e).then((function(e){t.push("/#login")})).catch((function(e){return a({type:"GET_ERRORS",payload:e.response.data})}))}}})(Object(o.g)(P)),B=function(e){Object(I.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(D.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={signIn:!0,signUp:!1},e.alertNotImplemented=function(e){alert("Feature not implemented, check back soon!")},e}return Object(T.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/home");var e=this.props.location.hash.split("#");e.includes("login")?this.setState(Object(v.a)(Object(v.a)({},this.state),{},{signUp:!1,signIn:!0})):e.includes("register")&&this.setState(Object(v.a)(Object(v.a)({},this.state),{},{signUp:!0,signIn:!1}))}},{key:"componentDidUpdate",value:function(e){if(this.props.auth.isAuthenticated&&this.props.history.push("/home"),e.location!=this.props.location){var t=this.props.location.hash.split("#");t.includes("login")?this.setState(Object(v.a)(Object(v.a)({},this.state),{},{signUp:!1,signIn:!0})):t.includes("register")&&this.setState(Object(v.a)(Object(v.a)({},this.state),{},{signUp:!0,signIn:!1}))}}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"bg-gradient-to-tl from-teal-400 to-blue-500 h-full w-full flex flex-col justify-around items-center"},n.a.createElement("div",{className:"flex flex-row justify-center w-1/2 items-center h-16"},n.a.createElement("div",{className:"mr-1"},n.a.createElement(A.b,{size:36})),n.a.createElement("span",{className:"text-6xl font-mono"},"Prolific")),n.a.createElement("div",{style:{height:"50%",maxWidth:"30rem",minWidth:"20rem"},className:"bg-white rounded-lg w-1/2 flex flex-col items-center"},n.a.createElement("div",{id:"signin signup container",className:"flex flex-row justify-between w-2/3 h-16 mb-4 items-end"},n.a.createElement("div",{className:"border-b-2 ".concat(this.state.signIn?"border-blue-500":"hover:bg-blue-200 "," flex items-center justify-center px-4 cursor-pointer")},n.a.createElement("span",{className:"text-lg font-mono font-light",onClick:function(){return e.setState(Object(v.a)(Object(v.a)({},e.state),{},{signIn:!0,signUp:!1}))}},"Sign In")),n.a.createElement("div",{className:"border-b-2 ".concat(this.state.signUp?"border-blue-500":"hover:bg-blue-200 "," flex items-center justify-center px-4 cursor-pointer")},n.a.createElement("span",{className:"text-lg font-mono font-light",onClick:function(){return e.setState(Object(v.a)(Object(v.a)({},e.state),{},{signIn:!1,signUp:!0}))}},"Sign Up"))),n.a.createElement("div",{id:"form container",className:"w-full"},this.state.signIn?n.a.createElement(M,null):n.a.createElement(F,null))),n.a.createElement("div",{className:"flex flex-row justify-around w-1/2 items-center h-16 flex-wrap",style:{maxWidth:"30rem",minWidth:"20rem"}},n.a.createElement(l.b,{to:"/",onClick:this.alertNotImplemented,className:"text-sm hover:opacity-50 hover:underline text-black font-mono"},"About us"),n.a.createElement(l.b,{to:"/",onClick:this.alertNotImplemented,className:"hover:opacity-50"},n.a.createElement(R.c,{size:30})),n.a.createElement(l.b,{to:"/",onClick:this.alertNotImplemented,className:"hover:opacity-50"},n.a.createElement(R.h,{size:30})),n.a.createElement(l.b,{to:"/",onClick:this.alertNotImplemented,className:"hover:opacity-50"},n.a.createElement(R.d,{size:30})),n.a.createElement(l.b,{to:"/",onClick:this.alertNotImplemented,className:"text-sm hover:opacity-50 hover:underline text-black font-mono"},"Contact us")))}}]),a}(r.Component),G=Object(h.b)(U)(B),L=a(57),H=Object(h.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,r=Object(L.a)(e,["component","auth"]);return n.a.createElement(o.b,Object.assign({},r,{render:function(e){return!0===a.isAuthenticated?n.a.createElement(t,e):n.a.createElement(o.a,{to:"/"})}}))})),K=a(24),W=a(31),J=function(e){return function(t){m.a.post("/api/tasks/create",e).then((function(e){return t({type:"CREATE_TASK",payload:e.data})})).catch((function(e){return console.log(e)}))}},q=function(e){return function(t){m.a.patch("/api/tasks/update",e).then((function(e){return t({type:"UPDATE_TASK",payload:e.data})})).catch((function(e){return console.log(e)}))}},V=function(){return{type:"TASKS_LOADING"}},Y={gray:"#e9e9e9",gray800:"rgb(45, 55, 72)",orange500:"rgb(237,137,54)",red500:"rgb(245,101,101)",red800:"rgb(155,44,44)",blue500:"rgb(66,153,225)",green500:"rgb(72, 187, 120)"},$={NONE:"None",TODO:"Todo",RECURRING:"Recurring",INPROGRESS:"In Progress",BLOCKED:"Blocked",DONE:"Done"},Q={NONE:"None",INPROGRESS:"In Progress",DONE:"Done"},X={LOW:"Low",MEDIUM:"Medium",HIGH:"High"},Z=function(e){var t;return(t={},Object(C.a)(t,Q.NONE,Q.INPROGRESS),Object(C.a)(t,Q.INPROGRESS,Q.DONE),Object(C.a)(t,Q.DONE,Q.NONE),t)[e]},ee=function(){return ae(new Date(Date.now()))},te=function(e){var t=e.getHours();"00"===(t=se(t))&&(t="12");var a=se(e.getMinutes());return"".concat(t,":").concat(a)},ae=function(e){var t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a.toString():a.toString();var r=e.getDate();return r=r<10?"0"+r.toString():r.toString(),"".concat(t,"-").concat(a,"-").concat(r)},re=function(e,t){return new Date("".concat(e,"T").concat(t,":00"))},ne=function(e){var t=new Date(e);return ae(t)};function se(e){return e<10&&(e="0"+e),e}var ce=function(e){var t=new Date(e),a=t.getHours(),r=a>=12?"pm":"am";"00"===(a=se(a=a>=12?a-12:a))&&(a="12");var n=se(t.getMinutes());return"".concat(a,":").concat(n," ").concat(r)},le=a(41),oe=a.n(le),ie=a(13),ue=a(30),me=function(e){Object(I.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(D.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getProgress=function(){switch(e.props.progress){case Q.NONE:return n.a.createElement(R.e,Object.assign({size:20,color:Y.blue500},e.props));case Q.INPROGRESS:return n.a.createElement(R.f,Object.assign({size:20,color:Y.orange500},e.props));case Q.DONE:return n.a.createElement(R.a,Object.assign({size:20,color:Y.green500},e.props));default:return n.a.createElement(R.b,Object.assign({size:20,color:Y.blue500},e.props))}},e}return Object(T.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,this.getProgress())}}]),a}(r.Component),pe=a(29),de=function(e){Object(I.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(D.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getPriority=function(){switch(e.props.priority){case X.LOW:return n.a.createElement(pe.a,Object.assign({size:20,color:Y.blue500},e.props,{className:"transform -scale-x-1 ".concat(e.props.className?e.props.className:"")}));case X.MEDIUM:return n.a.createElement(pe.b,Object.assign({size:20,color:Y.orange500},e.props));case X.HIGH:return n.a.createElement(pe.a,Object.assign({size:20,color:Y.red500},e.props));default:return n.a.createElement(pe.b,Object.assign({size:20,color:Y.orange500},e.props))}},e}return Object(T.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,this.getPriority())}}]),a}(r.Component),fe=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],he=["00","05","10","15","20","25","30","35","40","45","50","55"],be=function(e){return"HOURS"===e?0:"MINS"===e?1:-1},ge=function(e){Object(I.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(D.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={dropdownOpen:!1,selected:["",""]},e.onChange=function(t){e.props.onChange(t),e.setState(Object(v.a)({},e.state))},e.onClick=function(t,a,r){var n=Object(j.a)(e.state.selected);n[be(r)]=a,n.includes("")?e.setState(Object(v.a)(Object(v.a)({},e.state),{},{selected:n})):(t.target.id=e.props.id,t.target.value=n[0]+":"+n[1],e.onChange(t),e.setState(Object(v.a)(Object(v.a)({},e.state),{},{selected:n,dropdownOpen:!1})))},e.renderItem=function(t,a){var r=be(a),s=t===e.state.selected[r];return n.a.createElement("li",{key:t,tabIndex:0,className:"w-full cursor-pointer outline-none"},n.a.createElement("div",{className:"".concat(s?"bg-blue-400":"hover:bg-blue-100"," w-full text-center"),onClick:function(r){return e.onClick(r,t,a)}},n.a.createElement("span",{className:"".concat("")},t)))},e.onBlur=function(t){t.currentTarget.contains(t.relatedTarget)||e.setState(Object(v.a)(Object(v.a)({},e.state),{},{dropdownOpen:!1}))},e}return Object(T.a)(a,[{key:"componentDidMount",value:function(){this.setState(Object(v.a)({},this.state))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.value,r=t.id,s=fe.map((function(t,a){return e.renderItem(t,"HOURS")})),c=he.map((function(t,a){return e.renderItem(t,"MINS")}));return n.a.createElement("div",{className:"relative w-24",style:Object(v.a)({},this.props.style),onBlur:this.onBlur},n.a.createElement("input",{autoComplete:"off",className:"".concat(""," pl-1 w-full pr-6 border rounded-sm outline-none"),type:"text",onChange:this.onChange,onFocus:function(t){return e.setState(Object(v.a)(Object(v.a)({},e.state),{},{dropdownOpen:!0}))},value:a,id:r,placeholder:"hh:mm"}),n.a.createElement("div",{className:"absolute top-0 right-0 w-6 cursor-pointer h-full border-l rounded-r-sm",onClick:function(t){return e.setState(Object(v.a)(Object(v.a)({},e.state),{},{dropdownOpen:!e.state.dropdownOpen}))}},n.a.createElement(ie.b,{className:"block m-auto pt-1",size:20})),this.state.dropdownOpen?n.a.createElement("div",{className:"absolute z-10 bot-0 left-0 w-full flex flex-row bg-white"},n.a.createElement("div",{className:"w-1/2 border"},n.a.createElement("ul",{className:"h-full w-full flex flex-col justify-around items-center"},s)),n.a.createElement("div",{className:"w-1/2 border"},n.a.createElement("ul",{className:"flex flex-col justify-around h-full w-full items-center"},c))):null)}}]),a}(r.Component),ve=function(e){Object(I.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(D.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state=Object(v.a)({},e.props.state),e.onChange=function(t){console.log(t.target.id),console.log(t.target.value),e.setState(Object(v.a)(Object(v.a)({},e.state),{},Object(C.a)({},t.target.id,t.target.value)))},e.handleSubmit=function(t){t.preventDefault(),e.props.create?e.createTask(t):e.props.edit&&e.updateTask(t),e.closeModal()},e.extractTaskDate=function(e){return e.startTime=e.startDate?te(new Date(e.startDate)):void 0,e.startDate=e.startDate?ae(new Date(e.startDate)):void 0,e.dueTime=e.dueDate?te(new Date(e.dueDate)):void 0,e.dueDate=e.dueDate?ae(new Date(e.dueDate)):void 0,e},e.convertTaskDate=function(e){return e.startDate=e.startDate?re(e.startDate,e.startTime):void 0,e.dueDate=e.dueDate?re(e.dueDate,e.dueTime):void 0,e},e.createTask=function(t){var a=e.state;a=JSON.parse(JSON.stringify(a)),a=e.convertTaskDate(a),e.props.createTask(a)},e.updateTask=function(t){var a=e.state;a=JSON.parse(JSON.stringify(a)),a=e.convertTaskDate(a),e.props.updateTask(a)},e.getGroups=function(){var t=e.props.groups?e.props.groups.groups:[];return console.log(e.state),console.log(e.props.groups),t.map((function(t,a){return n.a.createElement("option",{selected:t._id===e.state.group,key:t._id,value:t._id},t.name)}))},e.getAssigned=function(){var t=[e.state.assigned];return(t=t.filter((function(e){return!!e}))).map((function(e,t){return n.a.createElement("option",{key:"".concat(e).concat(t),value:e},"".concat(e))}))},e.getProgress=function(){return Object.values(Q).map((function(e,t){return n.a.createElement("option",{key:"".concat(e).concat(t),value:e},"".concat(e))}))},e.getPriority=function(){return Object.values(X).map((function(e,t){return n.a.createElement("option",{key:"".concat(e).concat(t),value:e},"".concat(e))}))},e.getBuckets=function(){return Object.values($).map((function(e,t){return n.a.createElement("option",{key:"".concat(e).concat(t),value:e},"".concat(e))}))},e.resetState=function(){e.setState(Object(v.a)(Object(v.a)({},e.state),{},{title:"",group:"",assigned:"",bucket:$.NONE,progress:Q.NONE,priority:X.MEDIUM,startDate:ee(),dueDate:"",notes:"",subtasks:[],id:""}))},e.closeModal=function(t){e.resetState(),e.props.closeModal()},e}return Object(T.a)(a,[{key:"componentDidMount",value:function(){if(this.props.create){var e=ee();this.setState(Object(v.a)(Object(v.a)({},this.state),{},{startDate:e,priority:X.MEDIUM,progress:Q.NONE,bucket:$.NONE}))}else if(this.props.edit){var t=this.props.state.task;t=JSON.parse(JSON.stringify(t)),t=this.extractTaskDate(t),this.setState({title:t.title,group:t.group,assigned:t.assigned,bucket:t.bucket,progress:t.progress,priority:t.priority,startDate:t.startDate,dueDate:t.dueDate,notes:t.notes,subtasks:t.subtasks,owner:t.owner,id:t._id,startTime:t.startTime,dueTime:t.dueTime})}}},{key:"render",value:function(){this.props.auth.user.name;return n.a.createElement("div",{className:"top-0 left-0 h-screen w-screen absolute z-10 flex place-items-center bg-black bg-opacity-50"},n.a.createElement("div",{className:"bg-white w-1/2 m-auto rounded-lg"},n.a.createElement("div",{className:"flex flex-row-reverse place-items-start"},n.a.createElement(ie.a,{onClick:this.closeModal,className:"mt-2 mr-2 hover:opacity-50 cursor-pointer",size:20,color:Y.gray800})),n.a.createElement("form",{className:"ml-2",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"my-1"},n.a.createElement("span",{className:"text-gray-500"},"Title:"),n.a.createElement("input",{className:"ml-2",required:!0,onChange:this.onChange,value:this.state.title,id:"title",placeholder:"Task title..."})),n.a.createElement("div",{className:"my-1"},n.a.createElement("span",{className:"text-gray-500"},"Group:"),n.a.createElement("select",{className:"ml-2 cursor-pointer",value:this.state.group,onChange:this.onChange,id:"group"},this.getGroups())),n.a.createElement("div",{className:"my-1"},n.a.createElement("span",{className:"text-gray-500"},"Assigned:"),n.a.createElement("select",{className:"cursor-pointer",value:this.state.assigned,onChange:this.onChange,id:"assigned"},this.getAssigned(),n.a.createElement("option",{value:""},"None"))),n.a.createElement("div",{className:"flex flex-row place-items-center my-1"},n.a.createElement("span",{className:"text-gray-500"},"Progress:"),n.a.createElement("select",{className:"ml-2 cursor-pointer",required:!0,value:this.state.progress,onChange:this.onChange,id:"progress"},this.getProgress()),n.a.createElement(me,{className:"ml-2",progress:this.state.progress})),n.a.createElement("div",{className:"flex flex-row place-items-center my-1"},n.a.createElement("span",{className:"text-gray-500"},"Priority:"),n.a.createElement("select",{className:"ml-2 cursor-pointer",required:!0,value:this.state.priority,onChange:this.onChange,id:"priority"},this.getPriority()),n.a.createElement(de,{className:"ml-2",priority:this.state.priority})),n.a.createElement("div",{className:"flex flex-row place-items-center my-1"},n.a.createElement("span",{className:"text-gray-500"},"Bucket:"),n.a.createElement("select",{className:"ml-2 cursor-pointer",required:!0,value:this.state.bucket,onChange:this.onChange,id:"bucket"},this.getBuckets())),n.a.createElement("div",{className:"my-1 flex flex-row justify-items-start items-center"},n.a.createElement("span",{className:"text-gray-500"},"Start Date: "),n.a.createElement("input",{className:"ml-2 my-1 cursor-pointer",style:{width:"9rem"},required:!0,type:"date",value:this.state.startDate,onChange:this.onChange,id:"startDate"}),n.a.createElement("div",{className:"ml-2"},n.a.createElement(ge,{id:"startTime",value:this.state.startTime,onChange:this.onChange}))),n.a.createElement("div",{className:"my-1 flex flex-row justify-items-start items-center"},n.a.createElement("span",{className:"text-gray-500"},"Due Date: "),n.a.createElement("input",{className:"ml-2 my-1 cursor-pointer",style:{width:"9rem"},type:"date",value:this.state.dueDate,onChange:this.onChange,id:"dueDate"}),n.a.createElement("div",{className:"ml-2"},n.a.createElement(ge,{id:"dueTime",value:this.state.dueTime,onChange:this.onChange}))),n.a.createElement("div",{className:"my-1"},n.a.createElement("textarea",{className:"my-1",id:"notes",value:this.state.notes,onChange:this.onChange,placeholder:"Notes..."})),n.a.createElement("div",{className:"w-full flex flex-row-reverse content-start"},this.props.create?n.a.createElement("button",{className:"mr-4 mb-2 bg-transparent hover:bg-gray-600 border-2 border-gray-700 text-gray-700 rounded-lg hover:text-white hover:border-transparent",type:"submit"},n.a.createElement("span",{className:"m-2"},"Create Task")):null,this.props.edit?n.a.createElement("button",{className:"mr-4 mb-2 bg-transparent hover:bg-gray-600 border-2 border-gray-700 text-gray-700 rounded-lg hover:text-white hover:border-transparent",type:"submit"},n.a.createElement("span",{className:"m-2"},"Update Task")):null))))}}]),a}(r.Component),Ee=Object(h.b)((function(e){return{auth:e.auth,tasks:e.tasks,groups:e.groups}}),{createTask:J,updateTask:q})(ve),Oe=1,ye=-1,je=function(e){Object(I.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(D.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={list:[],isChecked:{}},e.generateFilter=function(t){if(!0===t.all)return{and:[]};for(var a={or:[]},r=0,n=Object.entries(t);r<n.length;r++){var s=Object(W.a)(n[r],2),c=s[0];s[1]||a.or.push({eq:Object(C.a)({},e.props.listKey,c)})}return{not:a}},e.onChange=function(t,a){t.stopPropagation(),t.preventDefault();var r=e.state.isChecked.all,n=Object(v.a)({},e.state.isChecked);if("all"===a)for(var s=0,c=Object.entries(n);s<c.length;s++){var l=Object(W.a)(c[s],2),o=l[0];l[1];n[o]=!r}else{var i=e.state.isChecked[a];n[a]=!i,r=!0;for(var u=0,m=Object.entries(n);u<m.length;u++){var p=Object(W.a)(m[u],2),d=p[0],f=p[1];"all"!==d&&(r=r&&f)}n.all=r}var h=e.generateFilter(n);e.props.setFilter(h),e.setState(Object(v.a)(Object(v.a)({},e.state),{},{isChecked:n}))},e.renderListItem=function(t){return n.a.createElement("div",{autoFocus:!1,tabIndex:0,className:"relative outline-none",key:t,id:t,onClick:function(a){return e.onChange(a,t)}},n.a.createElement("div",{className:"absolute top-0 left-0 w-4"},n.a.createElement("span",null,e.state.isChecked[t]?"x":"o")),n.a.createElement("label",{className:"pl-4"},t))},e}return Object(T.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.listKey,a=this.props.list.map((function(e,a){return e[t]})),r=a.filter((function(a,r){return Ne(Object(C.a)({},t,a),e.props.filter)}));a=a.filter((function(e,t){return e&&t===a.findIndex((function(t){return t===e}))}));var n,s={},c=Object(K.a)(a);try{for(c.s();!(n=c.n()).done;){s[n.value]=!1}}catch(d){c.e(d)}finally{c.f()}var l,o=Object(K.a)(r);try{for(o.s();!(l=o.n()).done;){s[l.value]=!0}}catch(d){o.e(d)}finally{o.f()}for(var i=!0,u=0,m=Object.values(s);u<m.length;u++){var p=m[u];i=i&&p}s.all=i,this.setState(Object(v.a)(Object(v.a)({},this.state),{},{list:a,isChecked:s}))}},{key:"componentWillUnmount",value:function(){var e=this,t=this.props.listKey,a=this.state.list.filter((function(a,r){return Ne(Object(C.a)({},t,a),e.props.filter)}));this.props.setActive(a.length!==this.state.list.length)}},{key:"componentDidUpdate",value:function(e){var t=this;if(e.tasks!==this.props.tasks){var a=this.props.list.map((function(e,a){return e[t.props.listKey]}));a=a.filter((function(e,t){return e&&t===a.findIndex((function(t){return t===e}))}));var r,n=Object(v.a)({},this.state.isChecked),s=Object(K.a)(a);try{for(s.s();!(r=s.n()).done;){var c=r.value;c in n||(n[c]=!0)}}catch(m){s.e(m)}finally{s.f()}for(var l=!0,o=0,i=Object.values(n);o<i.length;o++){var u=i[o];l=l&&u}n.all=l,this.setState(Object(v.a)(Object(v.a)({},this.state),{},{list:a,isChecked:n}))}}},{key:"render",value:function(){var e=this,t=Object(j.a)(this.state.list);return t.unshift("all"),t=t.map((function(t){return e.renderListItem(t)})),n.a.createElement("div",{className:"absolute top-6 right-0 bg-white z-20"},t)}}]),a}(r.Component),Ne=function e(t,a){var r,n,s,c=Object.keys(a)[0];if(!c)return!0;switch(r=a[c],"and"!==c&&"or"!==c&&(s=r[n=Object.keys(r)[0]]),c){case"and":var l,o=Object(K.a)(r);try{for(o.s();!(l=o.n()).done;){if(!e(t,l.value))return!1}}catch(m){o.e(m)}finally{o.f()}return!0;case"or":var i,u=Object(K.a)(r);try{for(u.s();!(i=u.n()).done;){if(e(t,i.value))return!0}}catch(m){u.e(m)}finally{u.f()}return!1;case"not":return!e(t,r);case"eq":return t[n]===s;case"gt":return t[n]>s;case"lt":return t[n]<s;case"in":return t[n].includes(s);default:return console.error("Invalid filter ".concat(JSON.stringify(a))),!0}},ke=[{name:"Progress",key:"progress"},{name:"Title",key:"title"},{name:"Due Date",key:"dueDate"},{name:"Group",key:"group"},{name:"Assigned",key:"assigned"},{name:"Priority",key:"priority"}],we=(r.Component,function(e){Object(I.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(D.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={width:{}},e.onChange=function(t){var a=t.target.value.length-e.props.value.length;a>0?e.setState({width:e.state.width+8*a}):a<0&&e.setState({width:Math.max(e.props.minWidth,e.state.width+8*a)}),e.props.onChange(t)},e}return Object(T.a)(a,[{key:"componentDidMount",value:function(){this.setState({width:this.props.width+this.props.minWidth})}},{key:"render",value:function(){return n.a.createElement("input",{onClick:function(e){return e.stopPropagation()},id:this.props.id,onChange:this.onChange,className:this.props.className,value:this.props.value,style:Object(v.a)(Object(v.a)({},this.props.style),{},{width:this.state.width})})}}]),a}(r.Component)),xe=function(e){Object(I.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(D.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={createTask:!1,editTask:!1,owner:"",task:void 0,testVal:"",sortedOn:"_id",sortDir:Oe,filter:{},activeFilter:"",activeFilters:[]},e.onChange=function(t){e.setState(Object(v.a)(Object(v.a)({},e.state),{},Object(C.a)({},t.target.id,t.target.value)))},e.deleteTask=function(t){e.props.deleteTask(t._id)},e.resetState=function(){e.setState(Object(v.a)(Object(v.a)({},e.state),{},{createTask:!1,editTask:!1,task:void 0,widths:{}}))},e.startEdit=function(t,a){e.setState(Object(v.a)(Object(v.a)({},e.state),{},{editTask:!0,task:t}))},e.updateProgress=function(t,a){a.preventDefault(),a.stopPropagation();var r="".concat(t._id,"progress");e.setState(Object(v.a)(Object(v.a)({},e.state),{},Object(C.a)({},r,Z(e.state[r]))))},e.closeModal=function(){e.setState(Object(v.a)(Object(v.a)({},e.state),{},{createTask:!1,editTask:!1}))},e.inlineTaskOnChange=function(t,a){t.preventDefault(),t.stopPropagation(),e.setState(Object(v.a)(Object(v.a)({},e.state),{},Object(C.a)({},"".concat(t.target.id),t.target.value)))},e.taskRowOnBlur=function(t,a){if(!t.currentTarget.contains(t.relatedTarget)){var r={};for(var n in e.state){if(n.includes(a._id))r[n.replace(a._id,"")]=e.state[n]}r.id=a._id,e.props.updateTask(r)}},e.renderTaskRow=function(t){var a="".concat(t._id,"editVisible");return n.a.createElement("tr",{key:t._id,tabIndex:0,onBlur:function(a){return e.taskRowOnBlur(a,t)},className:"hover:bg-blue-100 border-b border-blue-300 outline-none",onMouseOver:function(){return e.setState(Object(v.a)(Object(v.a)({},e.state),{},Object(C.a)({},a,!0)))},onMouseOut:function(){return e.setState(Object(v.a)(Object(v.a)({},e.state),{},Object(C.a)({},a,!1)))}},n.a.createElement("td",{className:"px-4 py-2"},n.a.createElement("div",{className:"flex flex-row",onClick:function(a){return e.updateProgress(t,a)}},n.a.createElement(me,{className:"hover:opacity-50 cursor-pointer",id:"progressIcon",progress:e.state["".concat(t._id,"progress")]}),n.a.createElement("span",{className:"ml-2 whitespace-no-wrap"},e.state["".concat(t._id,"progress")]))),n.a.createElement("td",{className:"px-4 py-2 max-w-lg"},n.a.createElement("div",{className:"h-full w-full relative pr-6"},n.a.createElement(we,{id:"".concat(t._id,"title"),onChange:function(a){return e.inlineTaskOnChange(a,t)},className:"".concat(e.state[a]?"bg-blue-100":""," whitespace-no-wrap w-auto pl-1"),value:e.state["".concat(t._id,"title")],width:8*t.title.length,minWidth:20}),n.a.createElement("div",{className:"".concat(e.state[a]?"opacity-100":"opacity-0"," h-full w-6 flex items-center justify-center absolute cursor-pointer top-0 right-0"),onClick:function(a){e.startEdit(t,a)}},n.a.createElement(ie.c,{className:"hover:opacity-75",size:20,color:Y.gray500})))),n.a.createElement("td",{className:"px-4 py-2 whitespace-no-wrap"},t.dueDate?ne(t.dueDate)+" "+ce(t.dueDate):""),n.a.createElement("td",{className:"px-4 py-2"},t.group),n.a.createElement("td",{className:"px-4 py-2"},t.assigned),n.a.createElement("td",{className:"px-4 py-2"},n.a.createElement(de,{priority:t.priority})),n.a.createElement("td",{className:"px-4 py-2"},n.a.createElement(ie.a,{onClick:function(){return e.deleteTask(t)},className:"hover:opacity-50 cursor-pointer",size:20,color:Y.gray800})))},e.renderTaskHeader=function(){var t=ke.map((function(t,a){return n.a.createElement("th",{key:t.name},e.renderTaskHeaderHelper(t.name,t.key))}));return n.a.createElement("thead",null,n.a.createElement("tr",null,t))},e.toggleSort=function(t,a){t.preventDefault(),e.state.sortedOn===a?e.state.sortDir===Oe?e.setState(Object(v.a)(Object(v.a)({},e.state),{},{sortDir:ye})):e.setState(Object(v.a)(Object(v.a)({},e.state),{},{sortDir:Oe,sortedOn:"_id"})):e.setState(Object(v.a)(Object(v.a)({},e.state),{},{sortedOn:a,sortDir:Oe}))},e.toggleFilterMenu=function(t,a){t.preventDefault(),t.stopPropagation(),e.state.activeFilter!==a?e.setState(Object(v.a)(Object(v.a)({},e.state),{},{activeFilter:a})):e.setState(Object(v.a)(Object(v.a)({},e.state),{},{activeFilter:""}))},e.handleActiveFilters=function(t,a){var r=e.state.activeFilters;if(t)r.includes(a)||e.setState(Object(v.a)(Object(v.a)({},e.state),{},{activeFilters:[].concat(Object(j.a)(r),[a])}));else if(r.includes(a)){var n=Object(j.a)(r);n.splice(n.findIndex((function(e,t){return e===a})),1),e.setState(Object(v.a)(Object(v.a)({},e.state),{},{activeFilters:n}))}},e.headerOnBlur=function(t){t.currentTarget.contains(t.relatedTarget)||e.setState(Object(v.a)(Object(v.a)({},e.state),{},{activeFilter:""}))},e.renderTaskHeaderHelper=function(t,a){var r=a===e.state.sortedOn,s=e.state.activeFilters.includes(a),c=e.state.activeFilter===a,l=e.state.sortDir;return n.a.createElement("div",{className:"relative cursor-pointer outline-none flex items-start",onClick:function(t){return e.toggleSort(t,a)},onBlur:e.headerOnBlur,tabIndex:0},n.a.createElement("span",{className:"pr-12 whitespace-no-wrap ml-4"},t),c?n.a.createElement(je,{list:e.props.tasks.tasks,listKey:a,filter:e.state.filter[a],setFilter:function(t){return e.setState(Object(v.a)(Object(v.a)({},e.state),{},{filter:Object(v.a)(Object(v.a)({},e.state.filter),{},Object(C.a)({},a,t))}))},setActive:function(t){return e.handleActiveFilters(t,a)}}):null,n.a.createElement("div",{className:"absolute top-0 right-0 w-6 mt-1 hover:opacity-50 cursor-pointer",onClick:function(t){return e.toggleFilterMenu(t,a)}},s?n.a.createElement(A.a,{size:16}):n.a.createElement(A.d,{size:16})),r?n.a.createElement("div",{className:"absolute top-0 right-6 w-6 mt-1"},l===Oe?n.a.createElement(ue.a,{size:20}):n.a.createElement(ue.b,{size:20})):null)},e.renderTaskTableHeaderHelper=function(t,a){var r=a===e.state.sortedOn,s=e.state.activeFilters.includes(a),c=e.state.activeFilter===a,l=e.state.sortDir;return n.a.createElement("div",{className:"relative cursor-pointer outline-none",onClick:function(t){return e.toggleSort(t,a)},onBlur:e.headerOnBlur,tabIndex:0},n.a.createElement("span",{className:"pr-12 whitespace-no-wrap"},t.name),c?n.a.createElement(je,{list:e.props.tasks.tasks,listKey:a,filter:e.state.filter[a],setFilter:function(t){return e.setState(Object(v.a)(Object(v.a)({},e.state),{},{filter:Object(v.a)(Object(v.a)({},e.state.filter),{},Object(C.a)({},a,t))}))},setActive:function(t){return e.handleActiveFilters(t,a)}}):null,n.a.createElement("div",{className:"absolute top-0 right-0 w-6 mt-1 hover:opacity-50 cursor-pointer",onClick:function(t){return e.toggleFilterMenu(t,a)}},s?n.a.createElement(A.a,{size:16}):n.a.createElement(A.d,{size:16})),r?n.a.createElement("div",{className:"absolute top-0 right-6 w-6 mt-1"},l===Oe?n.a.createElement(ue.a,{size:20}):n.a.createElement(ue.b,{size:20})):null)},e.getFilter=function(){for(var t={and:[]},a=0,r=Object.entries(e.state.filter);a<r.length;a++){var n=Object(W.a)(r[a],2),s=(n[0],n[1]);t.and.push(s)}return t},e._createTask=function(t){var a=ee(),r={title:"New Task",owner:e.props.auth.user.id,startDate:a,priority:X.MEDIUM,progress:Q.NONE,bucket:$.NONE};r=e._convertTaskDate(r),e.props.createTask(r)},e._convertTaskDate=function(e){return e.startDate=e.startDate?re(e.startDate,e.startTime):void 0,e.dueDate=e.dueDate?re(e.dueDate,e.dueTime):void 0,e},e}return Object(T.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getTasks(this.props.auth.user.id).then((function(){var t=e.props.tasks.tasks.map((function(e){var t={};for(var a in e)"_id"!==a&&Object.assign(t,Object(C.a)({},"".concat(e._id).concat(a),e[a]));return t["".concat(e._id,"editVisbile")]=!1,t})),a={};t.forEach((function(e){return Object.assign(a,e)})),e.setState(Object(v.a)(Object(v.a)({},e.state),a))})),this.props.getGroups(this.props.auth.user.id);var t,a={},r=Object(K.a)(ke);try{for(r.s();!(t=r.n()).done;){a[t.value.key]={}}}catch(n){r.e(n)}finally{r.f()}this.setState(Object(v.a)(Object(v.a)({},this.state),{},{owner:this.props.auth.user.id,filter:a}))}},{key:"componentDidUpdate",value:function(e){if(e.tasks!==this.props.tasks){var t=this.props.tasks.tasks.map((function(e){var t={};for(var a in e)"_id"!==a&&Object.assign(t,Object(C.a)({},"".concat(e._id).concat(a),e[a]));return t["".concat(e._id,"editVisbile")]=!1,t})),a={};t.forEach((function(e){return Object.assign(a,e)})),this.setState(Object(v.a)(Object(v.a)({},this.state),a))}}},{key:"render",value:function(){var e=this,t=this.props.tasks,a=t.tasks,r=t.tasksLoading,s=this.state,c=s.editTask,l=s.createTask,o=s.sortedOn,i=s.sortDir,u=(s.filter,Object(j.a)(a));return(u=u.filter((function(t){return Ne(t,e.getFilter())}))).sort((function(e,t){return i*(e[o]>t[o]?1:e[o]<t[o]?-1:0)})),u=u.map((function(t,a){return e.renderTaskRow(t)})),n.a.createElement("div",{className:"flex flex-col"},l?n.a.createElement(Ee,{create:!0,state:this.state,closeModal:this.closeModal}):null,c?n.a.createElement(Ee,{edit:!0,state:this.state,closeModal:this.closeModal}):null,n.a.createElement("button",{className:"mr-4 my-2 bg-transparent hover:bg-gray-700 border-2 border-gray-800 text-gray-800 rounded-lg hover:text-white hover:border-transparent flex place-items-center w-32",onClick:function(){return e.setState(Object(v.a)(Object(v.a)({},e.state),{},{createTask:!0}))}},n.a.createElement(ie.f,{size:22,className:"ml-1"}),n.a.createElement("span",{className:"mx-2"},"Create Task")),n.a.createElement("table",{className:"my-2 table-auto"},this.renderTaskHeader(),r?n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,"loading..."))):n.a.createElement("tbody",null,u),n.a.createElement("tfoot",null,n.a.createElement("tr",{className:"hover:bg-blue-100 border-b border-blue-300 outline-none h-10"},n.a.createElement("td",{colSpan:100},n.a.createElement("div",{className:"relative cursor-pointer",onClick:function(t){return e._createTask(t)}},n.a.createElement("div",{className:"absolute top-0 left-0 w-6 h-full justify-items-center items-center"},n.a.createElement(ie.f,{size:20})),n.a.createElement("span",{className:"pl-6"},"Click to quick add task")))))))}}]),a}(r.Component),Se=Object(h.b)((function(e){return{auth:e.auth,tasks:e.tasks,groups:e.groups}}),{createTask:J,getTasks:function(e){return function(t){return t(V()),m.a.get("/api/tasks/".concat(e)).then((function(e){return t({type:"GET_TASKS",payload:e.data}),Promise.resolve(e)})).catch((function(e){return t({type:"GET_TASKS",payload:null}),Promise.reject(e)}))}},updateTask:q,deleteTask:function(e){return function(t){m.a.delete("/api/tasks/delete/".concat(e)).then((function(a){return t({type:"DELETE_TASK",payload:e})})).catch((function(e){return console.log(e)}))}},getGroups:function(e){return function(t){return m.a.get("/api/groups/users/".concat(e)).then((function(e){var a=[];return e.data.map((function(e){return e.users.forEach((function(e){a.push(m.a.get("/api/users/".concat(e)))}))})),Promise.all(a).then((function(a){var r=e.data,n=a.map((function(e){return e.data}));return r=r.map((function(e){var t=e.users.map((function(e){return n.find((function(t){return t.id===e}))?n.find((function(t){return t.id===e})):{id:e,name:"NAME NOT FOUND ERR: GROUPACTIONS"}}));return Object(v.a)(Object(v.a)({},e),{},{users:t})})),t({type:"GET_GROUPS_BY_USER_ID",payload:r}),Promise.resolve(e)}))})).catch((function(e){return t({type:"GET_GROUPS_BY_USER_ID",payload:null}),Promise.reject(e)}))}}})(xe),Ce=a(37),De=a(56),Te=function(e){Object(I.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(D.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={},e.onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.alertNotImplemented=function(e){alert("Feature not implemented, check back soon!")},e}return Object(T.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.isOpen;return n.a.createElement("div",{style:{borderTopRightRadius:"1.5rem"},className:"flex h-screen bg-gray-800 w-64 flex-col justify-between p-2"},n.a.createElement("div",{className:"p-2"},n.a.createElement("div",{className:"flex flex-row-reverse justify-items-end hover:opacity-50"},n.a.createElement("div",{className:"cursor-pointer transition-transform duration-300 transform ".concat(e?"rotate-0":"rotate-180")},n.a.createElement(ie.e,{onClick:this.props.toggleOpen,size:32,color:Y.gray}))),n.a.createElement("div",{className:"flex flex-row justify-items-start"},n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("div",{className:"flex h-32 flex-col place-content-between"}," ",n.a.createElement(l.b,{to:"/home",className:"hover:opacity-50 flex place-items-center",style:{color:Y.gray}},n.a.createElement(ie.d,{className:"inline mr-3",size:22,color:Y.gray}),"Home"),n.a.createElement(l.b,{to:"/home",onClick:this.alertNotImplemented,className:"hover:opacity-50 flex place-items-center",style:{color:Y.gray}},n.a.createElement(Ce.a,{className:"inline mr-3",size:22,color:Y.gray}),"Calendar"),n.a.createElement(l.b,{to:"/home",className:"hover:opacity-50 flex place-items-center",onClick:this.alertNotImplemented,style:{color:Y.gray}},n.a.createElement(R.g,{className:"inline mr-3",size:22,color:Y.gray}),"Board"),n.a.createElement(l.b,{to:"/home",className:"hover:opacity-50 flex place-items-center",style:{color:Y.gray}},n.a.createElement(ie.g,{className:"inline mr-3",size:22,color:Y.gray}),"BulletList")))))),n.a.createElement("div",{className:""},n.a.createElement("button",{className:"pb-10 p-2 hover:opacity-50",style:{color:Y.gray},onClick:this.onLogoutClick},n.a.createElement(De.a,{className:"inline mr-3",size:22,color:Y.gray}),"Logout")))}}]),a}(r.Component),Ie=Object(h.b)((function(e){return{}}),{logoutUser:f})(Te),_e=function(e){Object(I.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(D.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={name:""},e}return Object(T.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.auth.user.name;this.setState(Object(v.a)(Object(v.a)({},this.state),{},{name:e}))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"inline-block"},n.a.createElement("span",{className:"text-lg"},"Hey there, ",n.a.createElement("span",{className:"font-bold"},"".concat(this.state.name)),"!")))}}]),a}(r.Component),Ae=Object(h.b)((function(e){return{auth:e.auth}}),{})(_e),Re=function(e){Object(I.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(D.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={isNavBarOpen:!0},e.toggleNavBar=function(t){t.preventDefault(),e.setState(Object(v.a)(Object(v.a)({},e.state),{},{isNavBarOpen:!e.state.isNavBarOpen}))},e}return Object(T.a)(a,[{key:"render",value:function(){this.props.auth.user;var e=this.state.isNavBarOpen;return n.a.createElement("div",{className:"inline-flex absolute top-0 left-0 transition-transform duration-300 transform ".concat(e?"":"-translate-x-48")},n.a.createElement(Ie,{toggleOpen:this.toggleNavBar,isOpen:this.state.isNavBarOpen}),n.a.createElement("div",{className:"px-2"},n.a.createElement(Ae,null),n.a.createElement(Se,{user:this.props.auth.user})))}}]),a}(r.Component),Ue=Object(h.b)((function(e){return{auth:e.auth}}),{logoutUser:f})(Re);if(localStorage.jwtToken){var ze=localStorage.jwtToken;p(ze);var Me=Object(i.a)(ze);S.dispatch(d(Me));var Pe=Date.now()/1e3;Me.exp<Pe&&(S.dispatch(f()),window.location.href="./login")}var Fe=function(){return n.a.createElement(h.a,{store:S},n.a.createElement(l.a,null,n.a.createElement("div",{className:"h-screen w-screen"},n.a.createElement(o.b,{exact:!0,path:"/",component:G}),n.a.createElement(o.d,null,n.a.createElement(H,{exact:!0,path:"/home",component:Ue})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[58,1,2]]]);
//# sourceMappingURL=main.a7859f17.chunk.js.map