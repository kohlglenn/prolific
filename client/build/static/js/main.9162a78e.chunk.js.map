{"version":3,"sources":["utils/setAuthToken.js","actions/authActions.js","actions/types.js","reducers/authReducer.js","reducers/errorReducer.js","reducers/taskReducer.js","reducers/index.js","store.js","components/screens/Landing.js","components/private-route/PrivateRoute.js","actions/taskActions.js","components/constants/index.js","utils/DateUtil.js","components/widgets/ProgressIcon.js","components/widgets/PriorityIcon.js","components/widgets/TimeCombobox.js","components/widgets/TaskModal.js","components/widgets/BulletList.js","components/widgets/NavBar.js","components/widgets/Header.js","components/screens/Home.js","App.js","serviceWorker.js","index.js"],"names":["setAuthToken","token","axios","defaults","headers","common","setCurrentUser","decoded","type","payload","logoutUser","dispatch","localStorage","removeItem","isEmpty","require","initialState","isAuthenticated","user","loading","tasks","tasksLoading","combineReducers","auth","state","action","errors","index","findIndex","task","_id","JSON","parse","stringify","splice","filter","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","mapStateToProps","LoginForm","email","password","onChange","e","setState","target","id","value","onSubmit","preventDefault","userData","props","loginUser","this","noValidate","style","height","className","emailnotfound","size","Component","ConnectedLoginForm","connect","post","then","res","data","setItem","jwt_decode","catch","err","response","RegisterForm","name","password2","newUser","registerUser","history","ConnectedRegisterForm","push","withRouter","Landing","signIn","signUp","hashParam","location","hash","split","includes","prevProps","maxWidth","minWidth","onClick","to","component","rest","render","updateTask","taskData","patch","console","log","setTasksLoading","COLORS","gray","gray800","orange500","red500","red800","blue500","green500","bucket","NONE","TODO","RECURRING","INPROGRESS","BLOCKED","DONE","progress","priority","LOW","MEDIUM","HIGH","incrementProgress","p","getDate","dateToYyyymmdd","Date","now","dateToHhmm","d","h","getHours","addZero","m","getMinutes","year","getFullYear","month","getMonth","toString","day","yyyymmddhhmmToDate","ds","hs","fullDateStringToYyyymmdd","s","date","i","fullDateStringToHourMinPm","ampm","ProgressIcon","getProgress","color","PriorityIcon","getPriority","HOURS","MIN_BREAKPOINTS","getIndex","desc","TimeCombobox","dropdownOpen","selected","v","selectedCopy","renderItem","isSelected","key","tabIndex","onBlur","currentTarget","contains","relatedTarget","hours","map","mins","autoComplete","onFocus","placeholder","TaskModal","handleSubmit","create","createTask","edit","closeModal","extractTaskDate","startTime","startDate","undefined","dueTime","dueDate","convertTaskDate","getGroups","allGroups","group","g","getAssigned","allAssigned","assigned","a","Object","values","getBuckets","b","resetState","title","notes","subtasks","owner","required","width","SORTDIR","FilterMenu","list","isChecked","generateFilter","all","and","filterObj","or","entries","eq","listKey","not","item","stopPropagation","allValue","currValue","setFilter","renderListItem","autoFocus","filteredList","filterProcessor","setActive","length","itemList","unshift","filterKey","filterValue","keys","error","HEADERS","InputResizer","Math","max","BulletList","editTask","testVal","sortedOn","sortDir","activeFilter","activeFilters","deleteTask","t","widths","startEdit","updateProgress","inlineTaskOnChange","taskRowOnBlur","newTask","replace","renderTaskRow","editVisbile","onMouseOver","onMouseOut","gray500","renderTaskHeader","renderTaskHeaderHelper","toggleSort","sortKey","toggleFilterMenu","handleActiveFilters","bool","newActiveFilters","headerOnBlur","isSorted","isActive","isFilterOpen","renderTaskTableHeaderHelper","getFilter","getTasks","taskValues","retVal","prop","assign","taskValueObj","forEach","myFilter","taskList","sort","get","Promise","resolve","reject","delete","NavBar","onLogoutClick","isOpen","borderTopRightRadius","toggleOpen","Header","Dashboard","isNavBarOpen","toggleNavBar","jwtToken","currentTime","exp","window","href","App","exact","path","Home","Boolean","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.9162a78e.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst setAuthToken = token => {\r\n  if (token) {\r\n    // Apply authorization token to every request if logged in\r\n    axios.defaults.headers.common[\"Authorization\"] = token;\r\n  } else {\r\n    // Delete auth header\r\n    delete axios.defaults.headers.common[\"Authorization\"];\r\n  }\r\n};\r\n\r\nexport default setAuthToken;","import axios from \"axios\";\r\nimport setAuthToken from \"../utils/setAuthToken\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nimport {\r\n  GET_ERRORS,\r\n  SET_CURRENT_USER,\r\n  USER_LOADING\r\n} from \"./types\"\r\n  ;\r\n// Register User\r\nexport const registerUser = (userData, history) => dispatch => {\r\n  axios\r\n    .post(\"/api/users/register\", userData)\r\n    .then(res => history.push(\"/#login\")) // re-direct to login on successful register\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n// Login - get user token\r\nexport const loginUser = userData => dispatch => {\r\n  axios\r\n    .post(\"/api/users/login\", userData)\r\n    .then(res => {\r\n      // Save to localStorage\r\n\r\n      // Set token to localStorage\r\n      const { token } = res.data;\r\n      localStorage.setItem(\"jwtToken\", token);\r\n      // Set token to Auth header\r\n      setAuthToken(token);\r\n      // Decode token to get user data\r\n      const decoded = jwt_decode(token);\r\n      // Set current user\r\n      dispatch(setCurrentUser(decoded));\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n// Set logged in user\r\nexport const setCurrentUser = decoded => {\r\n  return {\r\n    type: SET_CURRENT_USER,\r\n    payload: decoded\r\n  };\r\n};\r\n\r\n// User loading\r\nexport const setUserLoading = () => {\r\n  return {\r\n    type: USER_LOADING\r\n  };\r\n};\r\n\r\n// Log user out\r\nexport const logoutUser = () => dispatch => {\r\n  // Remove token from local storage\r\n  localStorage.removeItem(\"jwtToken\");\r\n  // Remove auth header for future requests\r\n  setAuthToken(false);\r\n  // Set current user to empty object {} which will set isAuthenticated to false\r\n  dispatch(setCurrentUser({}));\r\n};","// User\r\nexport const GET_ERRORS = \"GET_ERRORS\";\r\nexport const USER_LOADING = \"USER_LOADING\";\r\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";\r\n\r\n// Tasks\r\nexport const CREATE_TASK = \"CREATE_TASK\";\r\nexport const UPDATE_TASK = \"UPDATE_TASK\";\r\nexport const DELETE_TASK = \"DELETE_TASK\";\r\nexport const GET_TASKS = \"GET_TASKS\";\r\nexport const TASKS_LOADING = \"TASKS_LOADING\";","import {\r\n    SET_CURRENT_USER,\r\n    USER_LOADING\r\n  } from \"../actions/types\";\r\n  const isEmpty = require(\"is-empty\");\r\n  const initialState = {\r\n    isAuthenticated: false,\r\n    user: {},\r\n    loading: false\r\n  };\r\n  export default function(state = initialState, action) {\r\n    switch (action.type) {\r\n      case SET_CURRENT_USER:\r\n        return {\r\n          ...state,\r\n          isAuthenticated: !isEmpty(action.payload),\r\n          user: action.payload,\r\n          loading: false\r\n        };\r\n      case USER_LOADING:\r\n        return {\r\n          ...state,\r\n          loading: true\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  }","import { GET_ERRORS } from \"../actions/types\";\r\nconst initialState = {};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_ERRORS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n    CREATE_TASK,\r\n    UPDATE_TASK,\r\n    DELETE_TASK,\r\n    GET_TASKS,\r\n    TASKS_LOADING\r\n  } from \"../actions/types\";\r\n  \r\n  const initialState = {\r\n    tasks: [],\r\n    tasksLoading: false\r\n  };\r\n  \r\n  export default function(state = initialState, action) {\r\n    switch (action.type) {\r\n      case CREATE_TASK:\r\n        return {\r\n          ...state,\r\n          tasks: [...state.tasks, action.payload]\r\n        };\r\n      case GET_TASKS:\r\n        return {\r\n          ...state,\r\n          tasks: action.payload,\r\n          tasksLoading: false\r\n        };\r\n      case UPDATE_TASK:\r\n        let index = state.tasks.findIndex(\r\n          task => task._id === action.payload._id\r\n        );\r\n\r\n        let tasks = JSON.parse(JSON.stringify(state.tasks));\r\n        tasks.splice(index,1,action.payload);\r\n  \r\n        return {\r\n          ...state,\r\n          tasks: tasks\r\n        };\r\n      case DELETE_TASK:\r\n        return {\r\n          ...state,\r\n          tasks: state.tasks.filter(task => task._id !== action.payload)\r\n        };\r\n      case TASKS_LOADING:\r\n        return {\r\n          ...state,\r\n          tasksLoading: true\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  }","import { combineReducers } from \"redux\";\r\nimport authReducer from \"./authReducer\";\r\nimport errorReducer from \"./errorReducer\";\r\nimport taskReducer from \"./taskReducer\";\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  errors: errorReducer,\r\n  tasks: taskReducer\r\n});","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    initialState,\r\n    compose(\r\n        applyMiddleware(...middleware),\r\n        // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    )\r\n);\r\nexport default store;","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser, registerUser } from \"../../actions/authActions\";\r\n\r\nimport { HiOutlineUser, HiOutlineLockClosed, HiOutlineMail, HiOutlineAtSymbol, HiOutlineCheck } from 'react-icons/hi';\r\nimport { FaGithubSquare, FaTwitterSquare, FaLinkedin } from 'react-icons/fa';\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  errors: state.errors\r\n});\r\n\r\nclass LoginForm extends Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n    errors: {}\r\n  }\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.id]: e.target.value });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    const userData = {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    };\r\n    this.props.loginUser(userData);\r\n  };\r\n\r\n  render() {\r\n    const { errors } = this.props;\r\n\r\n    return (\r\n      <form noValidate onSubmit={this.onSubmit}>\r\n        <div\r\n          style={{ height: \"20rem\" }}\r\n          className=\"flex flex-col justify-around items-center\">\r\n          <div\r\n            className=\"flex flex-col items-center w-full\">\r\n            <div\r\n              className=\"w-2/3\">\r\n              <label\r\n                className=\"text-sm text-gray-600\">\r\n                Email\r\n            </label>\r\n              <span className=\"text-red-500 ml-2\">\r\n                {errors.email}\r\n                {errors.emailnotfound}\r\n              </span>\r\n            </div>\r\n            <div\r\n              className=\"relative w-2/3\">\r\n              <div\r\n                className=\"absolute top-0 left-0 w-6 flex items-center justify-center h-full\">\r\n                <HiOutlineMail size={20} />\r\n              </div>\r\n              <input\r\n                className=\"pl-6 border-b w-full text-xl outline-none border-blue-500\"\r\n                onChange={this.onChange}\r\n                value={this.state.email}\r\n                id=\"email\"\r\n                type=\"email\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"flex flex-col items-center w-full\">\r\n            <div\r\n              className=\"w-2/3\">\r\n              <label\r\n                className=\"text-sm text-gray-600\">\r\n                Password\r\n            </label>\r\n            </div>\r\n            <div\r\n              className=\"relative w-2/3\">\r\n              <div\r\n                className=\"absolute top-0 left-0 w-6 flex items-center justify-center h-full\">\r\n                <HiOutlineLockClosed size={20} />\r\n              </div>\r\n              <input\r\n                className=\"pl-6 border-b w-full text-xl outline-none border-blue-500\"\r\n                onChange={this.onChange}\r\n                value={this.state.password}\r\n                id=\"password\"\r\n                type=\"password\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"text-xl bg-transparent hover:bg-blue-500 border border-blue-500 text-blue-500 rounded-lg hover:text-white hover:border-transparent text-center w-2/3\">\r\n            Login\r\n        </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst ConnectedLoginForm = connect(\r\n  mapStateToProps,\r\n  { loginUser }\r\n)(LoginForm);\r\n\r\nclass RegisterForm extends Component {\r\n  state = {\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    password2: \"\",\r\n  }\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.id]: e.target.value });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    const newUser = {\r\n      name: this.state.name,\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n      password2: this.state.password2\r\n    };\r\n    this.props.registerUser(newUser, this.props.history);\r\n  };\r\n\r\n  render() {\r\n    const { errors } = this.props;\r\n\r\n    return (\r\n      <form noValidate onSubmit={this.onSubmit}>\r\n        <div\r\n          style={{ height: \"20rem\" }}\r\n          className=\"flex flex-col justify-around items-center\">\r\n          <div\r\n            className=\"flex flex-col items-center w-full\">\r\n            <div\r\n              className=\"w-2/3\">\r\n              <label\r\n                className=\"text-sm text-gray-600\">\r\n                Name\r\n            </label>\r\n              <span className=\"text-red-500 ml-2\">\r\n                {errors.name}\r\n              </span>\r\n            </div>\r\n            <div\r\n              className=\"relative w-2/3\">\r\n              <div\r\n                className=\"absolute top-0 left-0 w-6 flex items-center justify-center h-full\">\r\n                <HiOutlineUser size={20} />\r\n              </div>\r\n              <input\r\n                className=\"pl-6 border-b w-full text-xl outline-none border-blue-500\"\r\n                onChange={this.onChange}\r\n                value={this.state.name}\r\n                id=\"name\"\r\n                type=\"name\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"flex flex-col items-center w-full\">\r\n            <div\r\n              className=\"w-2/3\">\r\n              <label\r\n                className=\"text-sm text-gray-600\">\r\n                Email\r\n            </label>\r\n              <span className=\"text-red-500 ml-2\">\r\n                {errors.email}\r\n                {errors.emailnotfound}\r\n              </span>\r\n            </div>\r\n            <div\r\n              className=\"relative w-2/3\">\r\n              <div\r\n                className=\"absolute top-0 left-0 w-6 flex items-center justify-center h-full\">\r\n                <HiOutlineMail size={20} />\r\n              </div>\r\n              <input\r\n                className=\"pl-6 border-b w-full text-xl outline-none border-blue-500\"\r\n                onChange={this.onChange}\r\n                value={this.state.email}\r\n                id=\"email\"\r\n                type=\"email\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"flex flex-col items-center w-full\">\r\n            <div\r\n              className=\"w-2/3\">\r\n              <label\r\n                className=\"text-sm text-gray-600\">\r\n                Password\r\n            </label>\r\n              <span className=\"text-red-500 ml-2\">\r\n                {errors.password}\r\n              </span>\r\n            </div>\r\n            <div\r\n              className=\"relative w-2/3\">\r\n              <div\r\n                className=\"absolute top-0 left-0 w-6 flex items-center justify-center h-full\">\r\n                <HiOutlineLockClosed size={20} />\r\n              </div>\r\n              <input\r\n                className=\"pl-6 border-b w-full text-xl outline-none border-blue-500\"\r\n                onChange={this.onChange}\r\n                value={this.state.password}\r\n                id=\"password\"\r\n                type=\"password\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"flex flex-col items-center w-full\">\r\n            <div\r\n              className=\"w-2/3\">\r\n              <label\r\n                className=\"text-sm text-gray-600\">\r\n                Confirm Password\r\n            </label>\r\n              <span className=\"text-red-500 ml-2\">\r\n                {errors.password2}\r\n              </span>\r\n            </div>\r\n            <div\r\n              className=\"relative w-2/3\">\r\n              <div\r\n                className=\"absolute top-0 left-0 w-6 flex items-center justify-center h-full\">\r\n                <HiOutlineCheck size={20} />\r\n              </div>\r\n              <input\r\n                className=\"pl-6 border-b w-full text-xl outline-none border-blue-500\"\r\n                onChange={this.onChange}\r\n                value={this.state.password2}\r\n                id=\"password2\"\r\n                type=\"password\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"mt-2 text-xl bg-transparent hover:bg-blue-500 border border-blue-500 text-blue-500 rounded-lg hover:text-white hover:border-transparent text-center w-2/3\">\r\n            Register\r\n        </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst ConnectedRegisterForm = connect(\r\n  mapStateToProps,\r\n  { registerUser }\r\n)(withRouter(RegisterForm));\r\n\r\nclass Landing extends Component {\r\n  state = {\r\n    signIn: true,\r\n    signUp: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    // If logged in and user navigates to Landing page, should redirect them to dashboard\r\n    if (this.props.auth.isAuthenticated) {\r\n      this.props.history.push(\"/home\");\r\n    }\r\n    const hashParam = this.props.location.hash.split('#');\r\n    if (hashParam.includes('login')) {\r\n      this.setState({ ...this.state, signUp: false, signIn: true });\r\n    } else if (hashParam.includes('register')) {\r\n      this.setState({ ...this.state, signUp: true, signIn: false });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.auth.isAuthenticated) {\r\n      this.props.history.push(\"/home\");\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"bg-gradient-to-tl from-teal-400 to-blue-500 h-full w-full flex flex-col justify-around items-center\">\r\n        <div\r\n          className=\"flex flex-row justify-center w-1/2 items-center h-16\">\r\n          <div\r\n            className=\"mr-1\">\r\n            <HiOutlineAtSymbol size={36} />\r\n          </div>\r\n          <span\r\n            className=\"text-6xl font-mono\">\r\n            Prolific\r\n          </span>\r\n        </div>\r\n        <div\r\n          style={{ height: \"50%\", maxWidth: \"30rem\", minWidth: \"20rem\" }}\r\n          className=\"bg-white rounded-lg w-1/2 flex flex-col items-center\">\r\n          <div\r\n            id=\"signin signup container\"\r\n            className=\"flex flex-row justify-between w-2/3 h-16 mb-4 items-end\">\r\n            <div\r\n              className={`border-b-2 ${this.state.signIn ? \"border-blue-500\" : \"hover:bg-blue-200 \"} flex items-center justify-center px-4 cursor-pointer`}>\r\n              <span\r\n                className=\"text-lg font-mono font-light\"\r\n                onClick={() => this.setState({ ...this.state, signIn: true, signUp: false })}>\r\n                Sign In\r\n              </span>\r\n            </div>\r\n            <div\r\n              className={`border-b-2 ${this.state.signUp ? \"border-blue-500\" : \"hover:bg-blue-200 \"} flex items-center justify-center px-4 cursor-pointer`}>\r\n              <span\r\n                className=\"text-lg font-mono font-light\"\r\n                onClick={() => this.setState({ ...this.state, signIn: false, signUp: true })}>\r\n                Sign Up\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div\r\n            id=\"form container\"\r\n            className=\"w-full\"\r\n          >\r\n            {this.state.signIn\r\n              ?\r\n              <ConnectedLoginForm />\r\n              :\r\n              <ConnectedRegisterForm />\r\n            }\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"flex flex-row justify-around w-1/2 items-center h-16 flex-wrap\"\r\n          style={{ maxWidth: \"30rem\", minWidth: \"20rem\" }}>\r\n          <Link\r\n            to=\"/\"\r\n            className=\"text-sm hover:opacity-50 hover:underline text-black font-mono\">\r\n            About us\r\n          </Link>\r\n          <Link\r\n            to=\"/\"\r\n            className=\"hover:opacity-50\">\r\n            <FaGithubSquare size={30} />\r\n          </Link>\r\n          <Link\r\n            to=\"/\"\r\n            className=\"hover:opacity-50\">\r\n            <FaTwitterSquare size={30} />\r\n          </Link>\r\n          <Link\r\n            to=\"/\"\r\n            className=\"hover:opacity-50\">\r\n            <FaLinkedin size={30} />\r\n          </Link>\r\n          <Link\r\n            to=\"/\"\r\n            className=\"text-sm hover:opacity-50 hover:underline text-black font-mono\">\r\n            Contact us\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps\r\n)(Landing);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      auth.isAuthenticated === true ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect to=\"/\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nPrivateRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);","import axios from \"axios\";\r\n\r\nimport {\r\n  CREATE_TASK,\r\n  UPDATE_TASK,\r\n  DELETE_TASK,\r\n  GET_TASKS,\r\n  TASKS_LOADING\r\n} from \"./types\";\r\n\r\n// Create Task\r\nexport const createTask = taskData => dispatch => {\r\n  axios\r\n    .post(\"/api/tasks/create\", taskData)\r\n    .then(res =>\r\n      dispatch({\r\n        type: CREATE_TASK,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n// Get tasks by user id\r\nexport const getTasks = id => dispatch => {\r\n  dispatch(setTasksLoading());\r\n  return axios\r\n    .get(`/api/tasks/${id}`)\r\n    .then(res => {\r\n      dispatch({\r\n        type: GET_TASKS,\r\n        payload: res.data\r\n      });\r\n      return Promise.resolve(res);\r\n    })\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_TASKS,\r\n        payload: null\r\n      });\r\n      return Promise.reject(err);\r\n    }\r\n    );\r\n};\r\n\r\n// Delete Task\r\nexport const deleteTask = id => dispatch => {\r\n  axios\r\n    .delete(`/api/tasks/delete/${id}`)\r\n    .then(res =>\r\n      dispatch({\r\n        type: DELETE_TASK,\r\n        payload: id\r\n      })\r\n    )\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n// Update Task\r\nexport const updateTask = taskData => dispatch => {\r\n  axios\r\n    .patch(\"/api/tasks/update\", taskData)\r\n    .then(res =>\r\n      dispatch({\r\n        type: UPDATE_TASK,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n// Tasks loading\r\nexport const setTasksLoading = () => {\r\n  return {\r\n    type: TASKS_LOADING\r\n  };\r\n};","export const COLORS = {\r\n    gray: \"#e9e9e9\",\r\n    gray800: \"rgb(45, 55, 72)\",\r\n    orange500: \"rgb(237,137,54)\",\r\n    red500: \"rgb(245,101,101)\",\r\n    red800: \"rgb(155,44,44)\",\r\n    blue500: \"rgb(66,153,225)\",\r\n    green500: \"rgb(72, 187, 120)\"\r\n};\r\n\r\n// make sure to update models as well\r\nexport const bucket = {\r\n    NONE: 'None',\r\n    TODO: 'Todo', \r\n    RECURRING: 'Recurring', \r\n    INPROGRESS: 'In Progress', \r\n    BLOCKED: 'Blocked', \r\n    DONE: 'Done'\r\n};\r\nexport const progress = {\r\n    NONE: 'None', \r\n    INPROGRESS: 'In Progress', \r\n    DONE: 'Done'\r\n};\r\nexport const priority = {\r\n    LOW: 'Low', \r\n    MEDIUM: 'Medium', \r\n    HIGH: 'High'\r\n};\r\n\r\nexport const incrementProgress = p => {\r\n    const NEXT_PROGRESS = {\r\n        [progress.NONE]: progress.INPROGRESS,\r\n        [progress.INPROGRESS]: progress.DONE,\r\n        [progress.DONE]: progress.NONE\r\n    };\r\n    return NEXT_PROGRESS[p];\r\n};","export const getDate = () => {\r\n    return dateToYyyymmdd(new Date(Date.now()));\r\n};\r\n\r\nexport const dateToHhmm = d => {\r\n    let h = d.getHours();\r\n    h = addZero(h);\r\n    const m = addZero(d.getMinutes());\r\n    return `${h}:${m}`;\r\n};\r\n\r\nexport const dateToYyyymmdd = d => {\r\n    const year = d.getFullYear();\r\n    let month = d.getMonth() + 1;\r\n    month = month < 10 ? \"0\" + month.toString() : month.toString();\r\n    let day = d.getDate();\r\n    day = day < 10 ? \"0\" + day.toString() : day.toString();\r\n    return `${year}-${month}-${day}`;\r\n};\r\n\r\n// REQUIRES: date to be in yyyy-mm-dd format only. returns at 8am that day\r\nexport const yyyymmddToDate = s => {\r\n    return new Date(`${s}T08:00:00`);\r\n};\r\n\r\n// REQUIRES: ds to be 'yyyy-mm-dd' and hs to be 'hh:mm' formats exactly.\r\n// converts a date and a time into date-time form and creates a new date\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse\r\nexport const yyyymmddhhmmToDate = (ds, hs) => {\r\n    return new Date(`${ds}T${hs}:00`);\r\n};\r\n\r\nexport const fullDateStringToYyyymmdd = s => {\r\n    const date = new Date(s);\r\n    return dateToYyyymmdd(date);\r\n};\r\n\r\nfunction addZero(i) {\r\n    if (i < 10) {\r\n      i = \"0\" + i;\r\n    }\r\n    return i;\r\n};\r\n\r\nexport const fullDateStringToHourMinPm = s => {\r\n    const date = new Date(s);\r\n    let h = date.getHours();\r\n    const ampm = h >= 12 ? \"pm\" : \"am\";\r\n    h = h >= 12 ? h - 12: h;\r\n    h = addZero(h);\r\n    const m = addZero(date.getMinutes());\r\n    return `${h}:${m} ${ampm}`;\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { COLORS, progress } from '../constants/';\r\n\r\n// import { BsCircle, BsFillCircleFill, BsCircleHalf, BsDashCircle, BsExclamationCircle, BsInfoCircle, BsXCircle } from 'react-icons/bs'; bucket??\r\nimport { BsCircle, BsFillCircleFill, BsCircleHalf, BsCheckCircle } from 'react-icons/bs';\r\nimport { AiFillCheckCircle, AiFillClockCircle } from 'react-icons/ai';\r\nimport {FaCheckCircle, FaClock, FaCircleNotch, FaRegCircle, FaRegClock } from 'react-icons/fa';\r\n\r\n\r\n// Prop of 'progess' is REQUIRED\r\nclass ProgressIcon extends Component {\r\n    getProgress = () => {\r\n        const p = this.props.progress;\r\n        switch(p) {\r\n            case progress.NONE:\r\n                return (\r\n                    <FaRegCircle size={20} color={COLORS.blue500}  {...this.props} />\r\n                );\r\n            case progress.INPROGRESS:\r\n                return (\r\n                    <FaRegClock size={20} color={COLORS.orange500} {...this.props} />\r\n                );\r\n            case progress.DONE:\r\n                return (\r\n                    <FaCheckCircle size={20} color={COLORS.green500} {...this.props} />\r\n                );\r\n            default:\r\n                return (\r\n                    <FaCircleNotch size={20} color={COLORS.blue500} {...this.props} />\r\n                );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.getProgress()}\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default ProgressIcon;","import React, { Component } from \"react\";\r\n\r\nimport { COLORS, priority } from '../constants';\r\nimport { FiBarChart2, FiBarChart } from 'react-icons/fi';\r\n\r\n// green orange red\r\n// Prop of 'progess' is REQUIRED\r\nclass PriorityIcon extends Component {\r\n    getPriority = () => {\r\n        const p = this.props.priority;\r\n        switch(p) {\r\n            case priority.LOW:\r\n                return (\r\n                    <FiBarChart size={20} color={COLORS.blue500}  {...this.props}\r\n                    className={`transform -scale-x-1 ${this.props.className ? this.props.className : \"\"}`} />\r\n                );\r\n            case priority.MEDIUM:\r\n                return (\r\n                    <FiBarChart2 size={20} color={COLORS.orange500}  {...this.props} />\r\n                );\r\n            case priority.HIGH:\r\n                return (\r\n                    <FiBarChart size={20} color={COLORS.red500}  {...this.props} />\r\n                );\r\n            default:\r\n                return (\r\n                    <FiBarChart2 size={20} color={COLORS.orange500}  {...this.props} />\r\n                );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.getPriority()}\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default PriorityIcon;","import React, { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { AiOutlineDown } from 'react-icons/ai';\r\n\r\nconst HOURS = ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24'];\r\nconst MIN_BREAKPOINTS = ['00', '05', '10', '15', '20', '25', '30', '35', '40', '45', '50', '55'];\r\nconst AM_PM = ['am', 'pm'];\r\nconst VALUES = [HOURS, MIN_BREAKPOINTS, AM_PM];\r\n// const TEXT_SIZE = \"sm\";\r\nconst TEXT_SIZE = \"\";\r\n\r\nconst getIndex = desc => {\r\n    return (desc === \"HOURS\") ? 0 : ((desc === \"MINS\") ? 1 : -1);\r\n};\r\n\r\nclass TimeCombobox extends Component {\r\n    state = {\r\n        dropdownOpen: false, \r\n        selected: [\"\", \"\"]\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.setState({ ...this.state });\r\n    }\r\n\r\n    onChange = e => {\r\n        this.props.onChange(e);\r\n        this.setState({ ...this.state });\r\n    }\r\n\r\n    componentDidUpdate() {\r\n    }\r\n\r\n    onClick = (e, v, desc) => {\r\n        let selectedCopy = [...this.state.selected];\r\n        const index = getIndex(desc);\r\n        selectedCopy[index] = v;\r\n        if (!selectedCopy.includes(\"\")) {\r\n            e.target.id = this.props.id;\r\n            e.target.value = selectedCopy[0] + \":\" + selectedCopy[1];\r\n            this.onChange(e);\r\n            this.setState({ ...this.state, selected: selectedCopy, dropdownOpen: false });\r\n        } else {\r\n            this.setState({ ...this.state, selected: selectedCopy });\r\n        }\r\n    }\r\n\r\n    renderItem = (v, desc) => {\r\n        const index = getIndex(desc);\r\n        const isSelected = v === this.state.selected[index];\r\n        return (\r\n            <li key={v} \r\n            tabIndex={0}\r\n            className=\"w-full cursor-pointer outline-none\">\r\n                <div\r\n                    className={`${isSelected ? 'bg-blue-400' :'hover:bg-blue-100'} w-full text-center`}\r\n                    onClick={e => this.onClick(e, v, desc)}>\r\n                    <span \r\n                    className={`${TEXT_SIZE === 'sm' ? 'text-sm' : ''}`}>\r\n                        {v}\r\n                    </span>\r\n                </div>\r\n            </li>\r\n        );\r\n    }\r\n\r\n    onBlur = e => {\r\n        // by default, onBlur is fired before the object gaining focus receives it (making it impossible to click on the dropdown)\r\n        // needed to make the the dropdown focusable (by adding tabindex=0) and check to see if the object gaining focus was a child\r\n        // of the object losing focus. currentTarget is the object losing focus, relatedTarget is the object gaining it.\r\n        if (!e.currentTarget.contains(e.relatedTarget)) {\r\n            this.setState({ ...this.state, dropdownOpen: false });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { value, id } = this.props;\r\n        let hours = HOURS.map((h, i) => {\r\n            return this.renderItem(h, \"HOURS\");\r\n        });\r\n        let mins = MIN_BREAKPOINTS.map((m, i) => {\r\n            return this.renderItem(m, \"MINS\");\r\n        });\r\n        return (\r\n            <div className=\"relative w-24\" style={{...this.props.style}} onBlur={this.onBlur}>\r\n                <input\r\n                    autoComplete=\"off\"\r\n                    className={`${TEXT_SIZE === 'sm' ? 'text-sm' : ''} pl-1 w-full pr-6 border rounded-sm outline-none`}\r\n                    type=\"text\"\r\n                    onChange={this.onChange}\r\n                    onFocus={(e) => this.setState({ ...this.state, dropdownOpen: true })}\r\n                    value={value}\r\n                    id={id}\r\n                    placeholder={\"hh:mm\"}\r\n                />\r\n                <div className=\"absolute top-0 right-0 w-6 cursor-pointer h-full border-l rounded-r-sm\"\r\n                    onClick={(e) => this.setState({ ...this.state, dropdownOpen: !this.state.dropdownOpen })}>\r\n                    <AiOutlineDown className=\"block m-auto pt-1\" size={20} />\r\n                </div>\r\n                {this.state.dropdownOpen\r\n                    ?\r\n                    <div className=\"absolute z-10 bot-0 left-0 w-full flex flex-row bg-white\">\r\n                        <div className=\"w-1/2 border\">\r\n                            <ul\r\n                            className=\"h-full w-full flex flex-col justify-around items-center\">\r\n                                {hours}\r\n                            </ul>\r\n                        </div>\r\n                        <div className=\"w-1/2 border\">\r\n                            <ul \r\n                            className=\"flex flex-col justify-around h-full w-full items-center\">\r\n                                {mins}\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nTimeCombobox.propTypes = {\r\n    value: PropTypes.string.isRequired,\r\n    onChange: PropTypes.func.isRequired,\r\n    id: PropTypes.string.isRequired,\r\n    style: PropTypes.object\r\n};\r\n\r\nexport default TimeCombobox;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createTask, updateTask } from '../../actions/taskActions';\r\nimport { COLORS, progress, priority, bucket } from '../constants';\r\nimport { getDate, yyyymmddToDate, dateToYyyymmdd, dateToHhmm, yyyymmddhhmmToDate} from '../../utils/DateUtil';\r\n\r\nimport { AiOutlineClose } from \"react-icons/ai\";\r\nimport ProgressIcon from './ProgressIcon';\r\nimport PriorityIcon from \"./PriorityIcon\";\r\nimport TimeCombobox from \"./TimeCombobox\";\r\n\r\n// TODO: Update task button and hook up to edit task api\r\n\r\n// REQUIRES: edit xor create to be true\r\nclass TaskModal extends Component {\r\n    state = {\r\n        ...this.props.state\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.create) {\r\n            let date = getDate();\r\n            this.setState({ \r\n                ...this.state, \r\n                startDate: date, \r\n                priority: priority.MEDIUM,\r\n                progress: progress.NONE,\r\n                bucket: bucket.NONE });\r\n        } else if (this.props.edit) {\r\n            let { task } = this.props.state;\r\n            task = JSON.parse(JSON.stringify(task)); // make copy\r\n            task = this.extractTaskDate(task);\r\n            this.setState({\r\n                title: task.title,\r\n                group: task.group,\r\n                assigned: task.assigned,\r\n                bucket: task.bucket,\r\n                progress: task.progress,\r\n                priority: task.priority,\r\n                startDate: task.startDate,\r\n                dueDate: task.dueDate,\r\n                notes: task.notes,\r\n                subtasks: task.subtasks,\r\n                owner: task.owner,\r\n                id: task._id,\r\n                startTime: task.startTime,\r\n                dueTime: task.dueTime\r\n            });\r\n        }\r\n    }\r\n\r\n    onChange = e => {\r\n        // make sure the id of the component matches the state you want to change. e.g. group\r\n        this.setState({ ...this.state, [e.target.id]: e.target.value });\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        if (this.props.create) {\r\n            this.createTask(e);\r\n        } else if (this.props.edit) {\r\n            this.updateTask(e);\r\n        }\r\n        this.closeModal();\r\n    }\r\n\r\n    // converts Date object representation to yyyy-mm-dd and hh:mm format for presentation within modal\r\n    extractTaskDate = task => {\r\n        task.startTime = task.startDate ? dateToHhmm(new Date(task.startDate)) : undefined;\r\n        task.startDate = task.startDate ? dateToYyyymmdd(new Date(task.startDate)) : undefined;\r\n        task.dueTime = task.dueDate ? dateToHhmm(new Date(task.dueDate)) : undefined;\r\n        task.dueDate = task.dueDate ? dateToYyyymmdd(new Date(task.dueDate)) : undefined;\r\n        return task;\r\n    };\r\n\r\n\r\n    // converts yyyy-mm-dd and hh:mm to Date object\r\n    convertTaskDate = task => {\r\n        task.startDate = task.startDate ? yyyymmddhhmmToDate(task.startDate, task.startTime) : undefined;\r\n        task.dueDate = task.dueDate ? yyyymmddhhmmToDate(task.dueDate, task.dueTime) : undefined;\r\n        return task;\r\n    }\r\n\r\n    createTask = e => {\r\n        let task = this.state;\r\n        task = JSON.parse(JSON.stringify(task)); // make copy\r\n        task = this.convertTaskDate(task);\r\n        this.props.createTask(task);\r\n    };\r\n\r\n    updateTask = e => {\r\n        let task = this.state;\r\n        task = JSON.parse(JSON.stringify(task)); // make copy\r\n        task = this.convertTaskDate(task);\r\n        this.props.updateTask(task);\r\n    };\r\n\r\n    getGroups = () => {\r\n        let allGroups = [this.state.group];\r\n        allGroups = allGroups.filter(g => { return !!g; }) // filters out undefined and all other 'falsey' values\r\n        return allGroups.map((g, i) => {\r\n            return (\r\n                <option key={`${g}${i}`} value={g}>{`${g}`}</option>\r\n            );\r\n        });\r\n    };\r\n\r\n    getAssigned = () => {\r\n        let allAssigned = [this.state.assigned];\r\n        allAssigned = allAssigned.filter(a => { return !!a; }) // filters out undefined and all other 'falsey' values\r\n\r\n        return allAssigned.map((a, i) => {\r\n            return (\r\n                <option key={`${a}${i}`} value={a}>{`${a}`}</option>\r\n            );\r\n        });\r\n    };\r\n\r\n    getProgress = () => {\r\n        return Object.values(progress).map((p, i) => {\r\n            return (\r\n                <option key={`${p}${i}`} value={p}>{`${p}`}</option>\r\n            );\r\n        });\r\n    };\r\n\r\n    getPriority = () => {\r\n        return Object.values(priority).map((p, i) => {\r\n            return (\r\n                <option key={`${p}${i}`} value={p}>{`${p}`}</option>\r\n            );\r\n        });\r\n    };\r\n\r\n    getBuckets = () => {\r\n        return Object.values(bucket).map((b, i) => {\r\n            return (\r\n                <option key={`${b}${i}`} value={b}>{`${b}`}</option>\r\n            );\r\n        });\r\n    };\r\n\r\n    resetState = () => {\r\n        this.setState({\r\n            ...this.state,\r\n            title: \"\",\r\n            group: \"\",\r\n            assigned: \"\",\r\n            bucket: bucket.NONE,\r\n            progress: progress.NONE,\r\n            priority: priority.MEDIUM,\r\n            startDate: getDate(),\r\n            dueDate: \"\",\r\n            notes: \"\",\r\n            subtasks: [],\r\n            id: \"\"\r\n        });\r\n    }\r\n\r\n    closeModal = e => {\r\n        this.resetState();\r\n        this.props.closeModal();\r\n    }\r\n\r\n    render() {\r\n        const { name } = this.props.auth.user;\r\n        return (\r\n            <div className=\"top-0 left-0 h-screen w-screen absolute z-10 flex place-items-center bg-black bg-opacity-50\">\r\n                <div className=\"bg-white w-1/2 m-auto rounded-lg\">\r\n                    <div className=\"flex flex-row-reverse place-items-start\">\r\n                            <AiOutlineClose onClick={this.closeModal} className=\"mt-2 mr-2 hover:opacity-50 cursor-pointer\" size={20} color={COLORS.gray800} />\r\n                    </div>\r\n                    <form className=\"ml-2\" onSubmit={this.handleSubmit}>\r\n                        <div\r\n                        className=\"my-1\">\r\n                            <span className=\"text-gray-500\">\r\n                                Title:\r\n                            </span>\r\n                            <input\r\n                                className=\"ml-2\"\r\n                                required\r\n                                onChange={this.onChange}\r\n                                value={this.state.title}\r\n                                id=\"title\"\r\n                                placeholder=\"Task title...\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"my-1\">\r\n                            <span className=\"text-gray-500\">\r\n                                Group:\r\n                            </span>\r\n                            <select\r\n                                className=\"ml-2 cursor-pointer\"\r\n                                value={this.state.group}\r\n                                onChange={this.onChange}\r\n                                id=\"group\">\r\n                                {this.getGroups()}\r\n                                <option value=\"\">None</option>\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"my-1\">\r\n                            <span className=\"text-gray-500\">\r\n                                Assigned:\r\n                            </span>\r\n                            <select\r\n                                className=\"cursor-pointer\"\r\n                                value={this.state.assigned}\r\n                                onChange={this.onChange}\r\n                                id=\"assigned\">\r\n                                {this.getAssigned()}\r\n                                <option value=\"\">None</option>\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"flex flex-row place-items-center my-1\">\r\n                            <span className=\"text-gray-500\">\r\n                                Progress:\r\n                            </span>\r\n                            <select className=\"ml-2 cursor-pointer\"\r\n                                required\r\n                                value={this.state.progress}\r\n                                onChange={this.onChange}\r\n                                id=\"progress\">\r\n                                {this.getProgress()}\r\n                            </select>\r\n                            <ProgressIcon className=\"ml-2\" progress={this.state.progress} />\r\n                        </div>\r\n                        <div className=\"flex flex-row place-items-center my-1\">\r\n                            <span className=\"text-gray-500\">\r\n                                Priority:\r\n                            </span>\r\n                            <select className=\"ml-2 cursor-pointer\"\r\n                                required\r\n                                value={this.state.priority}\r\n                                onChange={this.onChange}\r\n                                id=\"priority\">\r\n                                {this.getPriority()}\r\n                            </select>\r\n                            <PriorityIcon className=\"ml-2\" priority={this.state.priority} />\r\n                        </div>\r\n                        <div className=\"flex flex-row place-items-center my-1\">\r\n                            <span className=\"text-gray-500\">\r\n                                Bucket:\r\n                            </span>\r\n                            <select className=\"ml-2 cursor-pointer\"\r\n                                required\r\n                                value={this.state.bucket}\r\n                                onChange={this.onChange}\r\n                                id=\"bucket\">\r\n                                {this.getBuckets()}\r\n                            </select>\r\n                        </div>\r\n                        <div \r\n                        className=\"my-1 flex flex-row justify-items-start items-center\">\r\n                            <span className=\"text-gray-500\">Start Date: </span>\r\n                            <input\r\n                                className=\"ml-2 my-1 cursor-pointer\"\r\n                                style={{width: '9rem'}}\r\n                                required\r\n                                type=\"date\"\r\n                                value={this.state.startDate}\r\n                                onChange={this.onChange}\r\n                                id=\"startDate\" />\r\n                            <div className=\"ml-2\">\r\n                                <TimeCombobox \r\n                                id=\"startTime\" \r\n                                value={this.state.startTime}\r\n                                onChange={this.onChange} \r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div \r\n                        className=\"my-1 flex flex-row justify-items-start items-center\">\r\n                            <span className=\"text-gray-500\">Due Date: </span>\r\n                            <input\r\n                                className=\"ml-2 my-1 cursor-pointer\"\r\n                                style={{width: '9rem'}}\r\n                                type=\"date\"\r\n                                value={this.state.dueDate}\r\n                                onChange={this.onChange}\r\n                                id=\"dueDate\" />\r\n                            <div className=\"ml-2\">\r\n                                <TimeCombobox id=\"dueTime\" \r\n                                value={this.state.dueTime}\r\n                                onChange={this.onChange} \r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"my-1\">\r\n                            <textarea\r\n                                className=\"my-1\"\r\n                                id=\"notes\"\r\n                                value={this.state.notes}\r\n                                onChange={this.onChange}\r\n                                placeholder=\"Notes...\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"w-full flex flex-row-reverse content-start\">\r\n                            {this.props.create\r\n                            ?\r\n                            <button\r\n                                className=\"mr-4 mb-2 bg-transparent hover:bg-gray-600 border-2 border-gray-700 text-gray-700 rounded-lg hover:text-white hover:border-transparent\"\r\n                                type=\"submit\">\r\n                                <span className=\"m-2\">\r\n                                Create Task\r\n                                </span>\r\n                            </button>\r\n                            : null}\r\n                            {this.props.edit\r\n                            ?\r\n                            <button\r\n                                className=\"mr-4 mb-2 bg-transparent hover:bg-gray-600 border-2 border-gray-700 text-gray-700 rounded-lg hover:text-white hover:border-transparent\"\r\n                                type=\"submit\">\r\n                                <span className=\"m-2\">\r\n                                Update Task\r\n                                </span>\r\n                            </button>\r\n                            : null}\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    tasks: state.tasks\r\n});\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { createTask, updateTask }\r\n)(TaskModal);","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getTasks, updateTask, deleteTask } from '../../actions/taskActions';\r\nimport { COLORS, incrementProgress } from '../constants';\r\nimport { fullDateStringToYyyymmdd, fullDateStringToHourMinPm } from '../../utils/DateUtil';\r\nimport { truncate } from '../../utils/StringUtil';\r\nimport PropTypes from 'prop-types';\r\nimport Draggable from 'react-draggable';\r\n\r\nimport { AiOutlinePlus, AiOutlineClose, AiOutlineEdit } from \"react-icons/ai\";\r\nimport { BiSortDown, BiSortUp, BiDotsVerticalRounded } from \"react-icons/bi\";\r\nimport { HiFilter, HiOutlineFilter } from 'react-icons/hi';\r\nimport TaskModal from \"./TaskModal\";\r\nimport PriorityIcon from \"./PriorityIcon\";\r\nimport ProgressIcon from \"./ProgressIcon\";\r\n\r\nconst SORTDIR = {\r\n  ASC: 1,\r\n  DESC: -1\r\n};\r\n\r\nconst FONT_SIZE = 8;\r\n\r\n/**\r\n * @param list table of values you want to extract unique values from\r\n * @param listKey list key you want to use to filter values\r\n * @param setFilter function to set filter\r\n * @param setActive funtion to set active flag on unmounting\r\n * @param filter return value: data structure that is updated on filter in form {and: [{'filter': {'key': 'value'}}]}\r\n */\r\nclass FilterMenu extends Component {\r\n  state = {\r\n    list: [],\r\n    isChecked: {}\r\n  };\r\n\r\n  componentDidMount() {\r\n    // list: list of unique values\r\n    // filteredList: processes list with this.props.filter to see which options have been selected\r\n    const { listKey: key } = this.props;\r\n    let list = this.props.list.map((v, i) => {\r\n      return v[key];\r\n    });\r\n    let filteredList = list.filter((v, i) => {\r\n      return filterProcessor({ [key]: v }, this.props.filter);\r\n    });\r\n    list = list.filter((v, i) => {\r\n      return v && i === list.findIndex((item) => item === v);\r\n    });\r\n    let isChecked = {};\r\n    for (const value of list) {\r\n      isChecked[value] = false;\r\n    }\r\n    for (const value of filteredList) {\r\n      isChecked[value] = true;\r\n    }\r\n    let all = true;\r\n    for (const value of Object.values(isChecked)) {\r\n      all = all && value;\r\n    }\r\n    isChecked.all = all;\r\n    this.setState({ ...this.state, list: list, isChecked: isChecked });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    const { listKey: key } = this.props;\r\n    let filteredList = this.state.list.filter((v, i) => {\r\n      return filterProcessor({ [key]: v }, this.props.filter);\r\n    });\r\n    this.props.setActive(filteredList.length !== this.state.list.length);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.tasks !== this.props.tasks) {\r\n      let list = this.props.list.map((v, i) => {\r\n        return v[this.props.listKey];\r\n      });\r\n      list = list.filter((v, i) => {\r\n        return v && i === list.findIndex((item) => item === v);\r\n      });\r\n      let isChecked = { ...this.state.isChecked };\r\n      for (const value of list) {\r\n        if (!(value in isChecked)) {\r\n          isChecked[value] = true;\r\n        }\r\n      }\r\n      let all = true;\r\n      for (const value of Object.values(isChecked)) {\r\n        all = all && value;\r\n      }\r\n      isChecked.all = all;\r\n      this.setState({ ...this.state, list: list, isChecked: isChecked });\r\n    }\r\n  }\r\n\r\n  generateFilter = isChecked => {\r\n    // if all is checked, then do not filter anything\r\n    if (isChecked.all === true) {\r\n      return { and: [] };\r\n    }\r\n    // generates a filter that EXCLUDES those NOT checked\r\n    let filterObj = { or: [] };\r\n    for (const [key, value] of Object.entries(isChecked)) {\r\n      if (!value) {\r\n        filterObj.or.push({ eq: { [this.props.listKey]: key } });\r\n      }\r\n    }\r\n\r\n    return { not: filterObj };\r\n  }\r\n\r\n  onChange = (e, item) => {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    let allValue = this.state.isChecked.all;\r\n    let isChecked = { ...this.state.isChecked };\r\n    if (item === 'all') {\r\n      for (const [key, value] of Object.entries(isChecked)) {\r\n        isChecked[key] = !allValue;\r\n      }\r\n    } else {\r\n      const currValue = this.state.isChecked[item];\r\n      isChecked[item] = !currValue;\r\n      allValue = true;\r\n      for (const [key, value] of Object.entries(isChecked)) {\r\n        if (key !== 'all') {\r\n          allValue = allValue && value;\r\n        }\r\n      }\r\n      isChecked.all = allValue;\r\n    }\r\n    let filter = this.generateFilter(isChecked);\r\n    this.props.setFilter(filter);\r\n    this.setState({ ...this.state, isChecked: isChecked });\r\n  }\r\n\r\n  renderListItem = item => {\r\n    const autoFocus = false;\r\n\r\n    return (\r\n      <div\r\n        autoFocus={autoFocus}\r\n        tabIndex={0}\r\n        className=\"relative outline-none\"\r\n        key={item}\r\n        id={item}\r\n        onClick={e => this.onChange(e, item)}>\r\n        <div\r\n          className=\"absolute top-0 left-0 w-4\">\r\n          <span>{this.state.isChecked[item] ? \"x\" : \"o\"}</span>\r\n        </div>\r\n        <label\r\n          className=\"pl-4\">\r\n          {item}\r\n        </label>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    let itemList = [...this.state.list];\r\n    itemList.unshift('all');\r\n    itemList = itemList.map(item => this.renderListItem(item));\r\n    return (\r\n      <div\r\n        className=\"absolute top-6 right-0 bg-white z-20\">\r\n        {itemList}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nFilterMenu.propTypes = {\r\n  listKey: PropTypes.string.isRequired,\r\n  list: PropTypes.array.isRequired,\r\n  filter: PropTypes.object.isRequired,\r\n  setFilter: PropTypes.func.isRequired,\r\n  setActive: PropTypes.func.isRequired\r\n};\r\n\r\nconst FILTERTYPES = ['and', 'or', 'not', 'eq', 'gt', 'lt', 'in'];\r\n\r\n/**\r\n *  Filter is of the form {'and': [{'eq' : {'title': 'test'}}]}\r\n * @param {Object} item document that you want to filter. e.g. {key1: value1, key2: value2} \r\n * @param {Object} filterObj filter object that follows specified EBNF\r\n * @returns {boolean} \r\n */\r\n// \r\nconst filterProcessor = (item, filterObj) => {\r\n  // e.g. {'eq': {'title': 'my title'}}\r\n  const key = Object.keys(filterObj)[0]; // e.g. 'eq' should only be one key total\r\n  if (!key) return true; // empty objects are true by default\r\n  let filter, filterKey, filterValue;\r\n  filter = filterObj[key]; // e.g. {'title' : 'my title'}\r\n  if (key !== 'and' && key !== 'or') {\r\n    filterKey = Object.keys(filter)[0]; // e.g. 'title' can be multiple in 'and' and 'or'\r\n    filterValue = filter[filterKey]; // e.g. 'my title'\r\n  }\r\n  switch (key) {\r\n    case 'and':\r\n      for (const f of filter) {\r\n        if (!filterProcessor(item, f)) return false;\r\n      }\r\n      return true;\r\n    case 'or':\r\n      for (const f of filter) {\r\n        if (filterProcessor(item, f)) return true;\r\n      }\r\n      return false;\r\n    case 'not':\r\n      return !filterProcessor(item, filter);\r\n    case 'eq':\r\n      return item[filterKey] === filterValue;\r\n    case 'gt':\r\n      return item[filterKey] > filterValue;\r\n    case 'lt':\r\n      return item[filterKey] < filterValue;\r\n    case 'in':\r\n      return item[filterKey].includes(filterValue);\r\n    default:\r\n      console.error(`Invalid filter ${JSON.stringify(filterObj)}`);\r\n      return true;\r\n  }\r\n}\r\n\r\n// List of the table headers and key to sort tasks on (from TaskSchema)\r\nconst HEADERS = [\r\n  { name: \"Progress\", key: \"progress\" },\r\n  { name: \"Title\", key: \"title\" },\r\n  { name: \"Due Date\", key: \"dueDate\" },\r\n  { name: \"Group\", key: \"group\" },\r\n  { name: \"Assigned\", key: \"assigned\" },\r\n  { name: \"Priority\", key: \"priority\" }\r\n];\r\n\r\n/**\r\n * A table with resizable columns and reorder on column drag\r\n * PROPS\r\n * columns: [{name: \"myName\", key: \"myKey\"}] -- consider adding properties to this? \"sortable\", type=\"date&time\", etc....\r\n * data: [{objects that have data for AT LEAST all of keys in columns}]\r\n * renderData: fn(dataRow, key) -> React.Component\r\n * renderColumn: fn(column) -> React.Component\r\n * trClassName: className for table row\r\n * tdClassName: className for table desc\r\n * thClassName: className for th\r\n */\r\nclass Table extends Component {\r\n  state = {\r\n    widths: {},\r\n    windowWidth: 0,\r\n    columnOrder: []\r\n  }\r\n\r\n  tableRef = React.createRef();\r\n\r\n  componentDidMount() {\r\n    // description of width is found HERE https://stackoverflow.com/questions/21064101/understanding-offsetwidth-clientwidth-scrollwidth-and-height-respectively\r\n    const totalWidth = this.tableRef.current.clientWidth;\r\n    // const totalWidth = 400;\r\n    let myWidths = {};\r\n    let myColOrder = [];\r\n    for (const column of this.props.columns) {\r\n      myWidths[column.key] = Math.round((1 / (this.props.columns.length)) * totalWidth);\r\n      myColOrder.push(column.key);\r\n    }\r\n    console.log(totalWidth);\r\n    console.log(myWidths);\r\n    console.log(this.tableRef);\r\n    this.setState({ ...this.state, widths: myWidths, windowWidth: totalWidth, columnOrder: myColOrder });\r\n  }\r\n\r\n  handleResizeColumn = (e, data, key) => {\r\n    const { widths: w } = this.state;\r\n    const nextKey = this.getNextKey(key);\r\n    this.setState({ ...this.state, widths: { ...w, [key]: w[key] + data.deltaX, [nextKey]: w[nextKey] - data.deltaX } });\r\n  }\r\n\r\n  getNextKey = key => {\r\n    const index = this.state.columnOrder.findIndex(item => item === key);\r\n    return this.state.columnOrder[(index + 1) % this.state.columnOrder.length];\r\n  }\r\n\r\n  handleReorderCol = (e, data, key) => {\r\n    let colWidth = this.state.columnOrder.map(col => {\r\n      return this.state.widths[col];\r\n    });\r\n    // breakpoints are the mid point of each column\r\n    let colMidpoints = [];\r\n    for (let i = 0; i < colWidth.length; i++) {\r\n      if (i > 0) {\r\n        colMidpoints[i] = colMidpoints[i - 1] + Math.round(0.5 * colWidth[i]) + Math.round(0.5 * colWidth[i - 1]);\r\n      } else {\r\n        colMidpoints[i] = Math.round(0.5 * colWidth[i]);\r\n      }\r\n    }\r\n    let colBreakpoints = [];\r\n    for (let i = 0; i < colWidth.length; i++) {\r\n      if (i > 0) {\r\n        colBreakpoints[i] = colBreakpoints[i - 1] + colWidth[i];\r\n      } else {\r\n        colBreakpoints[i] = colWidth[i];\r\n      }\r\n    }\r\n    let currIndex = this.state.columnOrder.findIndex(item => item === key);\r\n    let stopWidth = colMidpoints[currIndex] + data.x;\r\n    let newIndex = colBreakpoints.findIndex(item => item >= stopWidth);\r\n    if (newIndex !== currIndex) {\r\n      let myColOrder = [...this.state.columnOrder];\r\n      if (newIndex === -1) {\r\n        myColOrder.splice(currIndex, 1);\r\n        myColOrder.push(key);\r\n      } else {\r\n        let temp = myColOrder[currIndex];\r\n        if (currIndex > newIndex) {\r\n          for (let i = currIndex; i >= newIndex; i--) {\r\n            myColOrder[i] = myColOrder[i - 1];\r\n          }\r\n        } else {\r\n          for (let i = currIndex; i <= newIndex; i++) {\r\n            myColOrder[i] = myColOrder[i + 1];\r\n          }\r\n        }\r\n        myColOrder[newIndex] = temp;\r\n      }\r\n      this.setState({ ...this.state, columnOrder: myColOrder });\r\n    }\r\n  }\r\n\r\n  renderColItem = (key) => {\r\n    const columnInfo = this.props.columns.find(item => item.key === key);\r\n    const isLastCol = key === this.state.columnOrder[this.state.columnOrder.length - 1];\r\n    return (\r\n      <td\r\n        className={`pr-2 ${!isLastCol ? \"border-r\" : \"\"} relative`}\r\n        style={{ width: this.state.widths[key] }}>\r\n        <Draggable\r\n          axis=\"x\"\r\n          handle=\".columnReorderHandle\"\r\n          grid={[1, 1]}\r\n          scale={1}\r\n          position={{ x: 0, y: 0 }}\r\n          onStop={(e, data) => this.handleReorderCol(e, data, key)}>\r\n          <div\r\n            style={{ cursor: \"move\" }}\r\n            className=\"columnReorderHandle w-full h-full\"\r\n          >\r\n            {this.props.renderColumn(columnInfo)}\r\n          </div>\r\n        </Draggable>\r\n        {!isLastCol\r\n          ?\r\n          <Draggable\r\n            axis=\"x\"\r\n            handle=\".columnResizeHandle\"\r\n            grid={[1, 0]}\r\n            scale={1}\r\n            position={{ x: 0, y: 0 }}\r\n            onDrag={(e, data) => this.handleResizeColumn(e, data, key)}>\r\n            <div\r\n              style={{ cursor: \"col-resize\" }}\r\n              className=\"h-full w-2 absolute top-0 right-0 z-50 opacity-0 columnResizeHandle\">\r\n            </div>\r\n          </Draggable>\r\n          : null\r\n        }\r\n      </td>\r\n    );\r\n  };\r\n\r\n  renderCol = () => {\r\n    return (\r\n      <tr>\r\n        {this.state.columnOrder.map((key, i) => {\r\n          return this.renderColItem(key, i);\r\n        })}\r\n      </tr>\r\n    )\r\n  };\r\n\r\n  renderRow = row => {\r\n    return (\r\n      <tr>\r\n        {this.state.columnOrder.map((key, i) => {\r\n          return this.renderRowItem(row, key, i);\r\n        })}\r\n      </tr>\r\n    )\r\n  };\r\n\r\n  renderRowItem = (row, key, index) => {\r\n    return (\r\n      <td\r\n        className=\"truncate\"\r\n        style={{ width: this.state.widths[key] }}>\r\n        {this.props.renderData(row, key)}\r\n      </td>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { widths, windowWidth } = this.state;\r\n\r\n    return (\r\n      <table\r\n        ref={this.tableRef}\r\n        style={{ width: windowWidth }}\r\n        className=\"\">\r\n        <thead>\r\n          {this.renderCol()}\r\n        </thead>\r\n        <tbody>\r\n          {this.props.data.map(row => this.renderRow(row))}\r\n        </tbody>\r\n      </table>\r\n    );\r\n  }\r\n}\r\n\r\nclass InputResizer extends Component {\r\n  state = {\r\n    width: {}\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({width: this.props.width + this.props.minWidth});\r\n  }\r\n\r\n  onChange = e => {\r\n    if (e.target.value.length > this.props.value.length) {\r\n      this.setState({width: this.state.width + FONT_SIZE});\r\n    } else if (e.target.value.length < this.props.value.length) {\r\n      this.setState({width: Math.max(this.props.minWidth, this.state.width - FONT_SIZE)});\r\n    }\r\n    this.props.onChange(e);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <input\r\n        onClick={e => e.stopPropagation()}\r\n        id={this.props.id}\r\n        onChange={this.onChange}\r\n        className={this.props.className}\r\n        value={this.props.value}\r\n        style={{...this.props.style, width: this.state.width}} />\r\n    )\r\n  }\r\n}\r\n\r\nclass BulletList extends Component {\r\n  state = {\r\n    createTask: false,\r\n    editTask: false,\r\n    owner: \"\",\r\n    task: undefined,\r\n    testVal: \"\",\r\n    sortedOn: \"_id\",\r\n    sortDir: SORTDIR.ASC,\r\n    filter: {},\r\n    activeFilter: \"\",\r\n    activeFilters: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getTasks(this.props.auth.user.id).then(() => {\r\n      let taskValues = this.props.tasks.tasks.map(t => {\r\n        let retVal = {};\r\n        for (const prop in t) {\r\n          if (prop !== \"_id\") {\r\n            Object.assign(retVal, {[`${t._id}${prop}`]: t[prop]});\r\n          }\r\n        }\r\n        retVal[`${t._id}editVisbile`] = false;\r\n        return retVal;\r\n      });\r\n      let taskValueObj = {};\r\n      taskValues.forEach(t => Object.assign(taskValueObj, t));\r\n      this.setState({...this.state, ...taskValueObj});\r\n    });\r\n    let myFilter = {};\r\n    for (const h of HEADERS) {\r\n      myFilter[h.key] = {};\r\n    }\r\n    this.setState({ ...this.state, owner: this.props.auth.user.id, filter: myFilter });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.tasks !== this.props.tasks) {\r\n      let taskValues = this.props.tasks.tasks.map(t => {\r\n        let retVal = {};\r\n        for (const prop in t) {\r\n          if (prop !== \"_id\") {\r\n            Object.assign(retVal, {[`${t._id}${prop}`]: t[prop]});\r\n          }\r\n        }\r\n        retVal[`${t._id}editVisbile`] = false;\r\n        return retVal;\r\n      });\r\n      let taskValueObj = {};\r\n      taskValues.forEach(t => Object.assign(taskValueObj, t));\r\n      this.setState({...this.state, ...taskValueObj});\r\n    }\r\n  }\r\n\r\n  onChange = e => {\r\n    this.setState({ ...this.state, [e.target.id]: e.target.value });\r\n  };\r\n\r\n  deleteTask = t => {\r\n    this.props.deleteTask(t._id);\r\n  };\r\n\r\n  resetState = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      createTask: false,\r\n      editTask: false,\r\n      task: undefined,\r\n      widths: {}\r\n    });\r\n  }\r\n\r\n  startEdit = (t, e) => {\r\n    this.setState({ ...this.state, editTask: true, task: t })\r\n  };\r\n\r\n  updateProgress = (t, e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const key = `${t._id}progress`;\r\n    this.setState({...this.state, [key]: incrementProgress(this.state[key])});\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState({ ...this.state, createTask: false, editTask: false });\r\n  }\r\n\r\n  inlineTaskOnChange = (e, t) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState({...this.state, [`${e.target.id}`]: e.target.value});\r\n  }\r\n\r\n  taskRowOnBlur = (e, t) => {\r\n    if (!e.currentTarget.contains(e.relatedTarget)) {\r\n      // update task logic goes here\r\n      let newTask = {};\r\n      for (const s in this.state) {\r\n        if (s.includes(t._id)) { // i.e. it is a task property\r\n          const key = s.replace(t._id, '');\r\n          newTask[key] = this.state[s];\r\n        }\r\n      }\r\n      newTask['id'] = t._id;\r\n      this.props.updateTask(newTask);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * TODO\r\n   * make tasks look like items on a line of paper\r\n   * on click or on select make tasks fields editable (hard!) -- may need to come up with custom calendar??\r\n   * Look at external calendar libraries\r\n   * Add ability for draggable columns\r\n   */\r\n  renderTaskRow = t => {\r\n    const editVisbile = `${t._id}editVisible`;\r\n    return (\r\n      <tr key={t._id}\r\n        tabIndex={0}\r\n        onBlur={e => this.taskRowOnBlur(e, t)}\r\n        className=\"hover:bg-blue-100 cursor-pointer border-b border-blue-300 outline-none\"\r\n        onClick={(e) => { this.startEdit(t, e) }}\r\n        onMouseOver={() => this.setState({...this.state, [editVisbile]: true})}\r\n        onMouseOut={() => this.setState({...this.state, [editVisbile]: false})}>\r\n        <td\r\n          className=\"px-4 py-2\">\r\n          <div className=\"flex flex-row\"\r\n            onClick={e => this.updateProgress(t, e)}>\r\n            <ProgressIcon className=\"hover:opacity-50\" id={\"progressIcon\"} progress={this.state[`${t._id}progress`]} />\r\n            <span className=\"ml-2 whitespace-no-wrap\">{this.state[`${t._id}progress`]}</span>\r\n          </div>\r\n        </td>\r\n        <td className=\"px-4 py-2 max-w-lg\">\r\n          <div className=\"h-full w-full relative pr-6\">\r\n            <InputResizer\r\n              id={`${t._id}title`}\r\n              onChange={e => this.inlineTaskOnChange(e, t)}\r\n              className=\"whitespace-no-wrap w-auto\"\r\n              value={this.state[`${t._id}title`]}\r\n              width={FONT_SIZE*t.title.length}\r\n              minWidth={20} />\r\n              <div\r\n              className={`${this.state[editVisbile] ? \"opacity-100\" : \"opacity-0\"} h-full w-6 flex items-center justify-center absolute top-0 right-0`}>\r\n                <AiOutlineEdit className=\"hover:opacity-75\" size={20} color={COLORS.gray500}/>\r\n              </div>\r\n          </div>\r\n        </td>\r\n        <td className=\"px-4 py-2 whitespace-no-wrap\">{t.dueDate ? fullDateStringToYyyymmdd(t.dueDate) + \" \" + fullDateStringToHourMinPm(t.dueDate) : \"\"}</td>\r\n        <td className=\"px-4 py-2\">{t.group}</td>\r\n        <td className=\"px-4 py-2\">{t.assigned}</td>\r\n        <td className=\"px-4 py-2\"><PriorityIcon priority={t.priority} /></td>\r\n        <td className=\"px-4 py-2\">{<AiOutlineClose onClick={() => this.deleteTask(t)} className=\"hover:opacity-50 cursor-pointer\" size={20} color={COLORS.gray800} />}</td>\r\n      </tr>\r\n    );\r\n  }\r\n\r\n  renderTaskHeader = () => {\r\n    let headers = HEADERS.map((h, i) => {\r\n      return (\r\n        <th key={h.name}>\r\n          {this.renderTaskHeaderHelper(h.name, h.key)}\r\n        </th>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <thead>\r\n        <tr>\r\n          {headers}\r\n        </tr>\r\n      </thead>\r\n    );\r\n  }\r\n\r\n  toggleSort = (e, sortKey) => {\r\n    e.preventDefault();\r\n    if (this.state.sortedOn === sortKey) {\r\n      // flip sort dir or remove sort from row\r\n      if (this.state.sortDir === SORTDIR.ASC) {\r\n        this.setState({ ...this.state, sortDir: SORTDIR.DESC });\r\n      } else {\r\n        this.setState({ ...this.state, sortDir: SORTDIR.ASC, sortedOn: \"_id\" });\r\n      }\r\n    } else {\r\n      // sort in ascending order on sortKey\r\n      this.setState({ ...this.state, sortedOn: sortKey, sortDir: SORTDIR.ASC })\r\n    }\r\n  }\r\n\r\n  // Controls the filter menu\r\n  toggleFilterMenu = (e, key) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const { activeFilter } = this.state;\r\n    if (activeFilter !== key) {\r\n      this.setState({ ...this.state, activeFilter: key });\r\n    } else {\r\n      this.setState({ ...this.state, activeFilter: \"\" });\r\n    }\r\n  };\r\n\r\n  handleActiveFilters = (bool, key) => {\r\n    const { activeFilters } = this.state;\r\n    if (bool) {\r\n      if (!activeFilters.includes(key)) {\r\n        this.setState({ ...this.state, activeFilters: [...activeFilters, key] });\r\n      }\r\n    } else {\r\n      if (activeFilters.includes(key)) {\r\n        let newActiveFilters = [...activeFilters]\r\n        newActiveFilters.splice(newActiveFilters.findIndex((item, index) => { return item === key }), 1);\r\n        this.setState({ ...this.state, activeFilters: newActiveFilters });\r\n      }\r\n    }\r\n  };\r\n\r\n  headerOnBlur = e => {\r\n    // by default, onBlur is fired before the object gaining focus receives it (making it impossible to click on the dropdown)\r\n    // needed to make the the dropdown focusable (by adding tabindex=0) and check to see if the object gaining focus was a child\r\n    // of the object losing focus. currentTarget is the object losing focus, relatedTarget is the object gaining it.\r\n    if (!e.currentTarget.contains(e.relatedTarget)) {\r\n      this.setState({ ...this.state, activeFilter: \"\" });\r\n    }\r\n  }\r\n\r\n  renderTaskHeaderHelper = (name, sortKey) => {\r\n    const isSorted = sortKey === this.state.sortedOn;\r\n    const isActive = this.state.activeFilters.includes(sortKey);\r\n    const isFilterOpen = this.state.activeFilter === sortKey;\r\n    const { sortDir } = this.state;\r\n\r\n    return (\r\n      <div\r\n        className=\"relative cursor-pointer outline-none\"\r\n        onClick={e => this.toggleSort(e, sortKey)}\r\n        onBlur={this.headerOnBlur}\r\n        tabIndex={0}>\r\n        <span\r\n          className=\"pr-12 whitespace-no-wrap\">\r\n          {name}\r\n        </span>\r\n        {isFilterOpen\r\n          ?\r\n          <FilterMenu\r\n            list={this.props.tasks.tasks}\r\n            listKey={sortKey}\r\n            filter={this.state.filter[sortKey]}\r\n            setFilter={filter => this.setState({ ...this.state, filter: { ...this.state.filter, [sortKey]: filter } })}\r\n            setActive={bool => this.handleActiveFilters(bool, sortKey)}\r\n          />\r\n          :\r\n          null\r\n        }\r\n        <div\r\n          className=\"absolute top-0 right-0 w-6 mt-1 hover:opacity-50 cursor-pointer\"\r\n          onClick={e => this.toggleFilterMenu(e, sortKey)}\r\n        >\r\n          {isActive\r\n            ?\r\n            <HiFilter size={16} />\r\n            :\r\n            <HiOutlineFilter size={16} />\r\n          }\r\n        </div>\r\n        {isSorted\r\n          ?\r\n          <div\r\n            className=\"absolute top-0 right-6 w-6 mt-1\">\r\n            {sortDir === SORTDIR.ASC\r\n              ? <BiSortDown size={20} />\r\n              : <BiSortUp size={20} />}\r\n          </div>\r\n          : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderTaskTableHeaderHelper = (name, sortKey) => {\r\n    const isSorted = sortKey === this.state.sortedOn;\r\n    const isActive = this.state.activeFilters.includes(sortKey);\r\n    const isFilterOpen = this.state.activeFilter === sortKey;\r\n    const { sortDir } = this.state;\r\n\r\n    return (\r\n      <div\r\n        className=\"relative cursor-pointer outline-none\"\r\n        onClick={e => this.toggleSort(e, sortKey)}\r\n        onBlur={this.headerOnBlur}\r\n        tabIndex={0}>\r\n        <span\r\n          className=\"pr-12 whitespace-no-wrap\">\r\n          {name.name}\r\n        </span>\r\n        {isFilterOpen\r\n          ?\r\n          <FilterMenu\r\n            list={this.props.tasks.tasks}\r\n            listKey={sortKey}\r\n            filter={this.state.filter[sortKey]}\r\n            setFilter={filter => this.setState({ ...this.state, filter: { ...this.state.filter, [sortKey]: filter } })}\r\n            setActive={bool => this.handleActiveFilters(bool, sortKey)}\r\n          />\r\n          :\r\n          null\r\n        }\r\n        <div\r\n          className=\"absolute top-0 right-0 w-6 mt-1 hover:opacity-50 cursor-pointer\"\r\n          onClick={e => this.toggleFilterMenu(e, sortKey)}\r\n        >\r\n          {isActive\r\n            ?\r\n            <HiFilter size={16} />\r\n            :\r\n            <HiOutlineFilter size={16} />\r\n          }\r\n        </div>\r\n        {isSorted\r\n          ?\r\n          <div\r\n            className=\"absolute top-0 right-6 w-6 mt-1\">\r\n            {sortDir === SORTDIR.ASC\r\n              ? <BiSortDown size={20} />\r\n              : <BiSortUp size={20} />}\r\n          </div>\r\n          : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getFilter = () => {\r\n    let filter = { and: [] };\r\n    for (const [key, value] of Object.entries(this.state.filter)) {\r\n      filter.and.push(value);\r\n    }\r\n    return filter;\r\n  }\r\n\r\n  render() {\r\n    const { tasks, tasksLoading } = this.props.tasks;\r\n    const { editTask, createTask, sortedOn, sortDir, filter } = this.state;\r\n    const sortHelper = (a, b) => {\r\n      return sortDir * (a[sortedOn] > b[sortedOn] ? 1 : (a[sortedOn] < b[sortedOn] ? -1 : 0));\r\n    }\r\n\r\n    let taskList = [...tasks];\r\n    taskList = taskList.filter(task => {\r\n      return filterProcessor(task, this.getFilter());\r\n    });\r\n    taskList.sort(sortHelper);\r\n\r\n    taskList = taskList.map((t, i) => {\r\n      return (\r\n        this.renderTaskRow(t)\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"flex flex-col\">\r\n        {createTask\r\n          ?\r\n          <TaskModal create={true} state={this.state} closeModal={this.closeModal} />\r\n          :\r\n          null}\r\n        {editTask\r\n          ?\r\n          <TaskModal edit state={this.state} closeModal={this.closeModal} />\r\n          :\r\n          null}\r\n        <button\r\n          className=\"mr-4 my-2 bg-transparent hover:bg-gray-700 border-2 border-gray-800 text-gray-800 rounded-lg hover:text-white hover:border-transparent flex place-items-center w-32\"\r\n          onClick={() => this.setState({ ...this.state, createTask: true })}>\r\n          <AiOutlinePlus size={22} className=\"ml-1\" />\r\n          <span className=\"mx-2\">Create Task</span>\r\n        </button>\r\n        <table className=\"my-2 table-auto\">\r\n          {this.renderTaskHeader()}\r\n          {tasksLoading\r\n            ?\r\n            <tbody><tr><td>loading...</td></tr></tbody>\r\n            :\r\n            <tbody>{taskList}</tbody>\r\n          }\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  tasks: state.tasks\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getTasks, updateTask, deleteTask }\r\n)(BulletList);","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutUser } from \"../../actions/authActions\";\r\nimport { AiOutlineMenuFold, AiOutlineMenuUnfold, AiOutlineHome, AiOutlineUnorderedList } from 'react-icons/ai';\r\nimport { BsCalendar } from 'react-icons/bs';\r\nimport { FaRegStickyNote } from 'react-icons/fa';\r\nimport { RiLogoutBoxLine } from 'react-icons/ri';\r\nimport { COLORS } from \"../constants\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass NavBar extends Component {\r\n    state = {\r\n\r\n    };\r\n\r\n    componentDidMount() {\r\n        \r\n    }\r\n\r\n    onLogoutClick = e => {\r\n        e.preventDefault();\r\n        this.props.logoutUser();\r\n    };\r\n\r\n    render() {\r\n        const { isOpen } = this.props; // drilled down from screen\r\n        return (\r\n            <div\r\n            style={{borderTopRightRadius: '1.5rem'}}\r\n            className={`flex h-screen bg-gray-800 w-64 flex-col justify-between p-2`} >\r\n                <div className=\"p-2\">\r\n                    <div\r\n                        className=\"flex flex-row-reverse justify-items-end hover:opacity-50\">\r\n                        <div\r\n                        className={`cursor-pointer transition-transform duration-300 transform ${isOpen ? \"rotate-0\" : \"rotate-180\"}`}>\r\n                            <AiOutlineMenuFold onClick={this.props.toggleOpen} size={32} color={COLORS.gray} />\r\n                        </div>\r\n                    </div>\r\n                    <div\r\n                        className=\"flex flex-row justify-items-start\">\r\n                        <ul>\r\n                            <li>\r\n                                <div className=\"flex h-32 flex-col place-content-between\"> {/** Menu container */}\r\n                                    <Link \r\n                                    to=\"/home\" \r\n                                    className=\"hover:opacity-50 flex place-items-center\" \r\n                                    style={{ color: COLORS.gray }}>\r\n                                        <AiOutlineHome className=\"inline mr-3\" size={22} color={COLORS.gray} />\r\n                                        Home\r\n                                    </Link>\r\n                                    <Link \r\n                                    to=\"/home\" \r\n                                    className=\"hover:opacity-50 flex place-items-center\" \r\n                                    style={{ color: COLORS.gray }}>\r\n                                        <BsCalendar className=\"inline mr-3\" size={22} color={COLORS.gray} />\r\n                                        Calendar\r\n                                    </Link>\r\n                                    <Link \r\n                                    to=\"/home\" \r\n                                    className=\"hover:opacity-50 flex place-items-center\" \r\n                                    style={{ color: COLORS.gray }}>\r\n                                        <FaRegStickyNote className=\"inline mr-3\" size={22} color={COLORS.gray} />\r\n                                        Board\r\n                                    </Link>\r\n                                    <Link \r\n                                    to=\"/home\" \r\n                                    className=\"hover:opacity-50 flex place-items-center\" \r\n                                    style={{ color: COLORS.gray }}>\r\n                                        <AiOutlineUnorderedList className=\"inline mr-3\" size={22} color={COLORS.gray} />\r\n                                        BulletList\r\n                                    </Link>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <div className=\"\">\r\n                    <button className=\"pb-10 p-2 hover:opacity-50\"\r\n                        style={{ color: COLORS.gray }}\r\n                        onClick={this.onLogoutClick}>\r\n                        <RiLogoutBoxLine className=\"inline mr-3\" size={22} color={COLORS.gray} />\r\n                        Logout\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = state => ({\r\n\r\n});\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { logoutUser }\r\n)(NavBar);","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Header extends Component {\r\n  state = {\r\n    name: \"\"\r\n  };\r\n\r\n  componentDidMount() {\r\n      const { name } = this.props.auth.user;\r\n      this.setState({...this.state, name: name});\r\n  }\r\n\r\n  \r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"inline-block\">\r\n          <span className=\"text-lg\">Hey there, <span className=\"font-bold\">{`${this.state.name}`}</span>!</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { }\r\n)(Header);","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutUser } from \"../../actions/authActions\";\r\n\r\nimport BulletList from \"../widgets/BulletList\";\r\nimport NavBar from \"../widgets/NavBar\";\r\nimport Header from \"../widgets/Header\";\r\n\r\nclass Dashboard extends Component {\r\n  state = {\r\n    isNavBarOpen: true\r\n  }\r\n\r\n  toggleNavBar = e => {\r\n    e.preventDefault();\r\n    this.setState({...this.state, isNavBarOpen: !this.state.isNavBarOpen});\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.props.auth;\r\n    const { isNavBarOpen } = this.state;\r\n    return (\r\n      <div className={`inline-flex absolute top-0 left-0 transition-transform duration-300 transform ${isNavBarOpen ? \"\" : \"-translate-x-48\"}`}>\r\n        <NavBar toggleOpen={this.toggleNavBar} isOpen={this.state.isNavBarOpen} />\r\n        <div className=\"px-2\">\r\n          <Header />\r\n          <BulletList user={this.props.auth.user} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDashboard.propTypes = {\r\n  logoutUser: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { logoutUser }\r\n)(Dashboard);","// created with help from https://blog.bitsrc.io/build-a-login-auth-app-with-the-mern-stack-part-3-react-components-88190f8db718\r\n\r\nimport React from 'react';\r\nimport './tailwind.css';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport setAuthToken from \"./utils/setAuthToken\";\r\nimport { setCurrentUser, logoutUser } from \"./actions/authActions\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\n\r\nimport Landing from \"./components/screens/Landing\";\r\nimport PrivateRoute from \"./components/private-route/PrivateRoute\";\r\nimport Home from \"./components/screens/Home\";\r\n\r\n// Check for token to keep user logged in\r\nif (localStorage.jwtToken) {\r\n  // Set auth token header auth\r\n  const token = localStorage.jwtToken;\r\n  setAuthToken(token);\r\n  // Decode token and get user info and exp\r\n  const decoded = jwt_decode(token);\r\n  // Set user and isAuthenticated\r\n  store.dispatch(setCurrentUser(decoded));\r\n  // Check for expired token\r\n  const currentTime = Date.now() / 1000; // to get in milliseconds\r\n  if (decoded.exp < currentTime) {\r\n    // Logout user\r\n    store.dispatch(logoutUser());\r\n    // Redirect to login\r\n    window.location.href = \"./login\";\r\n  }\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <Router>\r\n        <div className=\"h-screen w-screen\">\r\n          <Route exact path=\"/\" component={Landing} />\r\n          <Switch>\r\n            <PrivateRoute exact path=\"/home\" component={Home} />\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}